"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[75805],{442279:(e,t)=>{function n(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(r),s=e.apply(void 0,[function(){return i++,a.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=l.map(function(n){return n.apply(void 0,[e,t].concat(r))});return s.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(i))};return d.resultFunc=a,d.recomputations=function(){return i},d.resetRecomputations=function(){return i=0},d}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=null,o=null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return null!==r&&r.length===i.length&&i.every(function(e,n){return t(e,r[n])})||(o=e.apply(void 0,i)),r=i,o}})},681508:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>a,jd:()=>l,oy:()=>s,yR:()=>u});var r=n(658583),o=n(622541);let i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,l=e=>window.innerHeight>=748&&i(e),s=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700),d=()=>{r.t8(o.oj,String(!0),(0,r.kZ)(o.oj))},c=()=>!!r.U2(o.oj),u=()=>{let e=s();e!==c()&&(e?d():r.zN(o.oj.name),"undefined"!=typeof window&&window.location.reload())}},165706:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>p,FixedFooter:()=>v,FixedHeader:()=>f});var r=n(667294),o=n(883119),i=n(876594),a=n(696534),l=n(30378),s=n(71328);function d(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),d(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),d(this,"lastScrollPos",0),d(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),d(this,"handleScroll",(0,s.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,r=window.scrollY,o=r-this.lastScrollPos,i="none",{scrollHeight:a,clientHeight:l}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(l)||(i=o<0?r<=Math.abs((window.scrollMinY||0)+Math.max(o,20))?"start":"none":r>=(window.scrollMaxY||a-l)-Math.max(o,20)?"end":"none");let s=t?.isModal?0:55;e?o>20&&n&&r>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20&&!n||r<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===i&&!n||r<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(r>s||"end"===i)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20||"start"===i)&&n||r<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(o>20||"end"===i)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=r},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}var u=n(785893);let p=64;function h({children:e,footerConfig:t,headerConfig:n,height:s,hideOnScroll:d,hideOnScrollState:{isHidden:c,updateHiddenState:h},noPadding:f,paddingY:v=3,type:g,zIndex:m}){let y,w;let{headerLimitedOverflow:b,ignoreObstructions:S,zIndexForGestaltBug:_}=n||{},{appUpsellFooterConfig:x,footerInLego:O,navFooterConfig:k}=t||{},C=!!x,j="header"===g?"top":"bottom",A=(0,a.vs)(),P=(0,r.useRef)(null),H=(0,r.useRef)(null);(0,r.useEffect)(()=>{try{if(!S){let e=P.current;H.current=b&&e&&Array.isArray(e.children)?e.children[0]:e,H.current instanceof HTMLElement&&l.Z.addObstruction(j,H.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!S&&H.current instanceof HTMLElement&&l.Z.removeObstruction(j,H.current)}},[S,b,j,A]);let E="top"===j?"relative":"fixed",L=(s??p)+(n?.overrideTop||0),D=d||k?{transition:O?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...c?{transform:`translateY(${"top"===j?-L:L}px)`,opacity:O?0:1}:Object.freeze({})}:{},N="relative"!==E||n?.noGutter?0:2,T=N?-N:0;A&&("header"===g?y=-1:w=-1);let z=n?.isTransparentBackground&&i.o7L||n?.isTranslucent&&(A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||i.k95;return(0,u.jsx)(o.xu,{ref:P,bottom:"footer"===g,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:w,...!m||_?{zIndex:_||1}:Object.freeze({}),...b?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...D}},"data-test-id":g,display:C?"flex":void 0,height:s&&!O?s:void 0,left:!0,marginEnd:O?"auto":T,marginStart:O?"auto":T,onTransitionEnd:()=>{(d||k)&&H.current&&(c?l.Z.removeObstruction(j,H.current):l.Z.addObstruction(j,H.current))},position:E,right:!0,top:"header"===g,width:O||"fixed"!==E?void 0:"100%",zIndex:_?void 0:m,children:(0,u.jsx)(o.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:z,height:O?C?void 0:s??p:"100%",boxShadow:O?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:O&&!k?.docked?16:void 0,...b?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:O||t?.alignCenter?"flex":void 0,marginEnd:O?"auto":void 0,marginStart:O?"auto":void 0,paddingX:("footer"!==g||f?0:4)+N,paddingY:f?0:v,position:"relative",rounding:O&&!k?.docked?"pill":void 0,width:k?k.footerWidth:C?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:h}):e})})}function f({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:r,isTransparentBackground:i,noGutter:a,overrideTop:l,useRoundedCorners:s,zIndexForGestaltBug:d,...p}){let{noPadding:f,paddingY:v=3,zIndex:g}=p;return(0,u.jsx)(o.Le,{height:t?44+8*(f?0:v):void 0,top:l||0,zIndex:g||void 0,children:(0,u.jsx)(c,{hideOnScroll:p.hideOnScroll,children:o=>(0,u.jsx)(h,{...p,headerConfig:{isTranslucent:r,isTransparentBackground:i,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:a,overrideTop:l,zIndexForGestaltBug:d,useRoundedCorners:s},hideOnScrollState:o,type:"header"})})})}function v({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:r,navFooterConfig:o,...i}){return(0,u.jsx)(c,{appUpsellFooterConfig:t,hideOnScroll:i.hideOnScroll,navFooterConfig:o?.scrollConfig,children:a=>(0,u.jsx)(h,{...i,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:r,navFooterConfig:o},hideOnScrollState:a,type:"footer"})})}},179425:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(883119),o=n(213377),i=n(681508),a=n(403862),l=n(5859),s=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{let h=(0,l.B)(),f=(0,i.jd)(h.userAgent.platform)?i.Vf:0;return(0,s.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${f}px)`:c,paddingX:d?o.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:e})})}},403862:(e,t,n)=>{n.d(t,{C:()=>i,V:()=>a});var r=n(667294);let o=(0,r.createContext)(!1),i=o.Provider,a=()=>(0,r.useContext)(o)},386008:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var r=n(545007),o=n(342513),i=n(149722),a=n(785893);let{Provider:l,useHook:s}=(0,o.Z)("Users");function d(){let e=s();return t=>e[t]}function c(){let e=s();return(t,n=!1)=>{let r=Object.keys(e).find(n=>e[n].username===t);if(r||!n)return e[r??""]}}function u(){let{id:e}=(0,i.Z)();return s()[e??""]}function p({children:e}){let t=(0,r.v9)(({users:e})=>e,r.wU);return(0,a.jsx)(l,{value:t,children:e})}},296011:(e,t,n)=>{n.d(t,{Z:()=>r});let r=(0,n(442279).P1)(({users:e,boards:t,session:n})=>{let r=e[n.userId]||null;return Object.keys(t).reduce((e,n)=>{let o=t[n];return!o.archived_by_me_at&&(o.owner?.id===r.id||o.collaborating_users&&o.collaborating_users.map(({id:e})=>e).includes(r.id))&&o.cover_images?e.concat([o]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},125768:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(545007),o=n(616550),i=n(883119),a=n(224796),l=n(587703),s=n(525364),d=n(140017),c=n(731714),u=n(217058),p=n(623409),h=n(785893);function f({alignIconLeft:e,bgColor:t,color:n,disableRedirect:f=!1,fallbackUrl:v,icon:g="arrow-back",onTouch:m,padding:y,placement:w,shouldUseFallbackUrl:b,size:S="lg",viewParameter:_,viewType:x}){let O=(0,d.ZP)(),k=(0,o.k6)(),C=(0,o.TH)(),j=(0,r.v9)(e=>e.session.isAuthenticated),A=(0,l.Z)(),P=(0,p.Z)(),{viewType:H,viewParameter:E}=(0,s.SU)(),[L,D]=x?[x,_]:[H,E],N=()=>C.search&&C.search.includes("?nativeShouldDismiss=true"),T=()=>{let e=c.Z.getItem(a.pm);C.key||"/ideas"!==v?(0,u.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`web_back_button_click.${String(w)}.is_auth_${String(j)}`),P({action:"click",item:"back-button"}),L&&A({view_type:L,view_parameter:D,element:34,event_type:102}),m&&m(),f||((!C.key||C.state&&"redirect"===C.state.referrer||b)&&v?k.push(v):C.pathname.includes("/password/reset/")&&N()?k.push("/login/?dismissWebview=true"):k.goBack())};return(0,h.jsx)(i.xu,{"data-test-id":"back-button",children:e?(0,h.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===g?-1:-2,width:48,children:(0,h.jsx)(i.hU,{accessibilityLabel:O._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:g,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:T,padding:"auto"!==y?y:2,size:S})}):(0,h.jsx)(i.hU,{accessibilityLabel:O._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:g,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:T,padding:"auto"!==y?y:2,size:S})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75805-1851f58efae3d109.mjs.map