"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63549,51879,14505,27795],{377520:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};t.hash="4b0c4a7a095db0d3cc7f22f3f6c85086";let n=t},467604:(e,i,a)=>{var t;a.r(i),a.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="d21be85aae96a0058562b2371debc882";let l=n},106289:(e,i,a)=>{var t,n;a.r(i),a.d(i,{default:()=>r});let l=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[t,{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null});l.hash="88e0486fd6539d1c0f496469981c31bc";let r=l},343141:(e,i,a)=>{var t,n,l,r,s,o,d;a.r(i),a.d(i,{default:()=>c});let u={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},s={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,s,o,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},d],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};u.hash="6113bb3593481961950c5053449014f3";let c=u;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(u.default||u)},877463:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardUnauthHoverOverlay_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"}],type:"Pin",abstractKey:null};t.hash="6882406b5d36a92c738711b800ae3d97";let n=t},958573:(e,i,a)=>{var t,n,l,r,s;a.r(i),a.d(i,{default:()=>d});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"imagesSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[n,t,l],storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[r,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:s,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin"},{args:null,kind:"FragmentSpread",name:"PinCardUnauthHoverOverlay_pin"},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="51efe7315a83f6e73baeab9b4257b0f0";let d=o},443890:(e,i,a)=>{var t,n,l,r,s,o,d,u,c,p,m,_,g,h,y,f,v,x;a.r(i),a.d(i,{default:()=>P});let b=(t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},c=[o={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},y=[n,p={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},o,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,u],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,p,m,_,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},g],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},p,m,_,g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:y,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,f={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[v={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[v,l,x={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[l,x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,l,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:y,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:y,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},d,u,r],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[l,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},h],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{condition:"skipUnauthFragment",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}]},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"useTrackPin_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});b.hash="78d9314690ff6d150798cd2122bd0811";let P=b},147094:(e,i,a)=>{var t;a.r(i),a.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="4a2543bd99e1b908c6c94274a303fcbc";let l=n},131615:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"QuickSaveButtonNux_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};t.hash="40f871beedb776a1c10a51587e02ece5";let n=t},564684:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};t.hash="8d0233fe1acbc77ec2b5a1754e0a6e36";let n=t},168266:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};t.hash="8f9d12b0eee9d408e23c20c11af28777";let n=t},786958:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};t.hash="2fb133623620997264f81544f7f43636";let n=t},817985:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2";let n=t},644566:(e,i,a)=>{var t;a.r(i),a.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a3cbf6d55cf89d97d6e04c32195968d9";let l=n},890030:(e,i,a)=>{var t;a.r(i),a.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="b7ea441f2c20a68b323088ebe3847835";let l=n},537695:(e,i,a)=>{var t,n;a.r(i),a.d(i,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};l.hash="6588018e2880f2695fc6c4ba45aab606";let r=l},855237:(e,i,a)=>{var t;a.r(i),a.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="b49953855cdc69f6ee2c8d4925149d23";let l=n},640713:(e,i,a)=>{a.r(i),a.d(i,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useTrackPin_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="eef847c462af423847b037ed3e118a44";let n=t},79589:(e,i,a)=>{a.d(i,{Z:()=>s});var t=a(616550),n=a(340523),l=a(624797),r=a(149722);function s(){let{checkExperiment:e}=(0,n.F)(),i=(0,t.TH)(),{isAuth:a}=(0,r.Z)(),{on_sale:s}=(0,l.mB)(i.search);return!!s&&!!e(a?"dweb_shopping_onebar_on_sale_filter":"dweb_one_bar_on_sale_filter_unauth",{dangerouslySkipActivation:!0}).anyEnabled}},654716:(e,i,a)=>{a.d(i,{Z:()=>n});var t=a(923368);let n=(e,i)=>{let{stackedCloseupEnabled:a}=(0,t.x4)();return{isEligibleForStaticImageIdeaPin:!!i&&(!1===e||a)}}},968292:(e,i,a)=>{a.d(i,{Z:()=>m});var t,n=a(667294);a(167912);var l=a(214877),r=a(372085),s=a(207012),o=a(558273),d=a(414131),u=a(268127),c=a(785893);let p=void 0!==t?t:t=a(467604);function m({clientTrackingParams:e,children:i,hovered:a,pinKey:t,slotIndex:m,trafficSource:_,viewType:g}){let{logContextEvent:h}=(0,l.v)(),[y,f]=(0,n.useState)(),[v,x]=(0,n.useState)(),b=(0,s.Z)(p,t),{entityId:P,trackedLink:S,link:k}=b,w=S||k||"",I=()=>{f(!0)},T=(0,d.Z)({hasPin:!!b,hasPinRichMetadata:!!b.richMetadata,hasPinRichMetadataProducts:!!b.richMetadata?.products,hasPinRichMetadataArticle:!!b.richMetadata?.article,hasPinRichMetadataRecipe:!!b.richMetadata?.recipe,hasPinStoryPinData:!!b.storyPinData}),E=(0,u.Z)(b),A=()=>{let i=E();(0,r.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:P,url:w,client_tracking_params:e,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:P,...m||{},...i})}}).then(a=>{a&&(h({event_type:12,object_id_str:P,view_type:g,view_parameter:T,clientTrackingParams:e,aux_data:{clickthrough_type:"rightClick",...m||{},...i}}),h({event_type:8948,view_type:g,object_id_str:P,view_parameter:T,clientTrackingParams:e,aux_data:{click_type:"clickthrough",closeup_navigation_type:_&&(0,o.sV)(_)?"deeplink":"click",clickthrough_type:"rightClick",...m||{},...i}}))})},C=e=>{y&&(/^\/pin/.test(e.target.activeElement.attributes.href?.value)||(A(),f(!1)),window.removeEventListener(v,C,!1))};return(0,n.useEffect)(()=>{void 0!==window?.document?.hidden?x("visibilitychange"):void 0!==window?.document?.msHidden?x("msvisibilitychange"):void 0!==window?.document?.webkitHidden&&x("webkitvisibilitychange")},[]),(0,n.useEffect)(()=>(y&&window&&window.addEventListener(v,C,!1),()=>window.removeEventListener(v,C)),[y,v]),(0,n.useEffect)(()=>(a&&window.addEventListener("contextmenu",I),()=>{window.removeEventListener("contextmenu",I)}),[a]),(0,c.jsx)(n.Fragment,{children:i})}},223785:(e,i,a)=>{a.d(i,{Dv:()=>l,Ml:()=>r,Oc:()=>t,mv:()=>n});let t=16,n=4,l={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},934378:(e,i,a)=>{a.d(i,{$N:()=>m,Cu:()=>g,GY:()=>d,MZ:()=>r,NR:()=>u,bC:()=>_,fm:()=>t,kM:()=>l,q6:()=>n,qp:()=>o,uV:()=>c,ug:()=>p,xL:()=>s});let t={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},n={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},s={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},o={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},c="604800",p="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},_="click",g="view"},263032:(e,i,a)=>{a.d(i,{YS:()=>r,eF:()=>s,m_:()=>l});var t=a(934378),n=a(953565);function l(e,i,a,l,r){let s=new URLSearchParams,o=i.reduce((e,i)=>{if(null!=i){let a=function(e){let i;try{i=decodeURIComponent(e)}catch(a){i=e}i.startsWith("http")?i.startsWith("http://")&&(i=i.replace("http://","https://")):i="https://"+i;try{return new URL(i).origin}catch(t){let a=i.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(a&&a.length>1)return a[1];return e}}(i);return e.add(a)}return e},new Set);s.append(t.NR.SOURCE_EVENT_ID,e??"0"),s.append(t.NR.DESTINATION,JSON.stringify([...o])),s.append(t.NR.EXPIRY,a?t.uV:t.ug),s.append(t.NR.PRIORITY,a?t.NR.CLICK_PRIORITY:t.NR.VIEW_PRIORITY),r&&s.append(t.NR.ADVERTISER_ID,r),l&&s.append(t.NR.CAMPAIGN_ID,l),s.append(t.NR.SOURCE_EVENT_TYPE,a?t.bC:t.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(t.NR.HOSTNAME,e)}catch(e){(0,n.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}async function r(e,i,a,t,r,s,o,d,u){let c;let{appType:p,osType:m}=s||{},_="",g="";if(["Pin","pinImpressions"].includes(e)&&i&&(t||d||u)){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:p,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:p,osType:m}});return}_=l(a,[t,d,u],!1,r,o);try{g=new URL(window.location.href).hostname}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(g&&"www.pinterest.com"!==g)document.createElement("img").setAttribute("attributionsrc",_),(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:p,osType:m,hostname:g}});else if(!(c=await window.fetch(_,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:p,osType:m}})}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:p,osType:m,hostname:g,responseStatus:c&&c.status}})}}else(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:p,osType:m}})}function s(e){if(e){let i=e.toLowerCase();if(i.includes("windows"))return"windows xp"===i?1:"windows vista"===i?2:"windows 7"===i?3:"windows 8"===i?4:12;if(i.includes("mac os"))return 5;if(i.includes("android"))return 7;if(i.includes("ios"))return 6;if(i.includes("ubuntu"))return 8;if(i.includes("chromium os"))return 13}return 0}},922719:(e,i,a)=>{a.d(i,{CC:()=>n,Ll:()=>r,XF:()=>l});let t=(e,i,a)=>({x:Math.floor(e*Math.cos(a)),y:Math.floor(i*Math.sin(a))}),n=(e,i)=>t(i/2,e/2,2*Math.random()*Math.PI),l=(e,i)=>Math.floor(Math.random()*(i-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(i=>e.map(e=>i+" "+e).join("\n")).join("\n")},663056:(e,i,a)=>{a.d(i,{P:()=>m,Z:()=>p}),a(167912);var t,n,l,r,s=a(207012);let o=void 0!==t?t:t=a(644566),d=void 0!==n?n:n=a(855237),u=void 0!==l?l:l=a(537695),c=void 0!==r?r:r=a(817985);function p(e){let i=(0,s.Z)(c,e),a=function(e){let i=(0,s.Z)(o,e);return i?.carouselData?{index:i.carouselData.index,carouselId:i.carouselData.entityId,carouselSlots:i.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}))??[]}:null}(i),t=function({pinKey:e,index:i}){let a=(0,s.Z)(u,e),t=(a?.richMetadata||a?.richSummary)?.products?.[0]||null,n=function(e){let i=(0,s.Z)(d,e);if(!i)return[];let a={},{image236x:t,image474x:n,image564x:l,image736x:r}=i;return[[t,"236x"],[n,"474x"],[l,"564x"],[r,"736x"]].forEach(([e,i])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:t})=>{t&&e&&(a={...a,[t]:{...a[t],[i]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(a).map(([e,i])=>({imageSignature:e,imageSizeMap:i}))}(t);return t&&n.length?{carouselId:t.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":a?.image236x&&{height:a.image236x.height,url:a.image236x.url,width:a.image236x.width},"474x":a?.image474x&&{height:a.image474x.height,url:a.image474x.url,width:a.image474x.width},"564x":a?.image564x&&{height:a.image564x.height,url:a.image564x.url,width:a.image564x.width},"736x":a?.image736x&&{height:a.image736x.height,url:a.image736x.url,width:a.image736x.width}}},...n],index:i}:null}({pinKey:i,index:a?.index});return t?{...t,carouselSlots:t.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:a}function m({children:e,pinKey:i}){return e(p(i))}},105737:(e,i,a)=>{function t(e,i,a){if(e.length!==i.length)return!1;for(let t=0;t<e.length;t+=1)if(!l(e[t],i[t],a+1))return!1;return!0}function n(e,i,a){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(let t in e)if(!(t in i)||!l(e[t],i[t],a+1))return!1;return!0}function l(e,i,a){if(a>=1e3)return!1;if(e===i)return!0;if(null==e||null==i||"object"!=typeof e&&"object"!=typeof i)return e!=e&&i!=i;let l=Object.prototype.toString.call(e);if(l!==Object.prototype.toString.call(i))return!1;switch(l){case"[object Array]":return t(e,i,a);case"[object Set]":return t(Array.from(e).sort(),Array.from(i).sort(),a);case"[object Object]":case"[object Arguments]":return n(e,i,a);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(i),a);case"[object RegExp]":return e+""==i+"";case"[object Error]":return e.name===i.name&&e.message===i.message;default:return!1}}function r(e,i){return l(e,i,0)}a.d(i,{ZP:()=>r,qP:()=>t})},614792:(e,i,a)=>{a.d(i,{Mi:()=>t,lO:()=>n});let{Provider:t,useMaybeHook:n}=(0,a(342513).Z)("pageContext")},510989:(e,i,a)=>{a.d(i,{Z:()=>t});let t=a(103322).Z},25919:(e,i,a)=>{let t;a.d(i,{Am:()=>y,Ig:()=>g,N:()=>b,Sd:()=>f,YX:()=>x,be:()=>h,fO:()=>p,kd:()=>v,pz:()=>m});var n=a(667294),l=a(216167),r=a(587703),s=a(703404),o=a(957753),d=a(372085),u=a(953565);let c=(e,i,a={})=>(0,u.nP)(`${e}.${i}`,{sampleRate:1,tags:a}),p=(e,i)=>a=>l.Z.create("UserExperiencePlatformResource",i?{extra_context:e,targeting:i}:{extra_context:e}).callGet().then(e=>e.resource_response?a((0,o.OD)(e.resource_response.data)):void 0),m=(e,i,a,n)=>(r,d)=>{if(i)return Promise.resolve();if(n&&(t=n),1===e.length){let i=e[0],t=d().experiences[i];if(JSON.stringify(t?.extraContext||null)===JSON.stringify(a)||(0,s.E3)(t)&&!(a&&Object.keys(a).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:a||null,targeting:n}).callGet().then(e=>e.resource_response?r((0,o.cL)(e.resource_response.data)):void 0)},_=(e,i,a,n)=>(r,s,d,u=!1,c,m)=>(_,g)=>{let{experiences:h,experiencesMulti:y}=g(),f=null,v=!0;if(u||(f=(v=h[r]&&h[r].experience_id===s)?h[r]:Array.isArray(y[r])&&y[r]?.find(e=>e.experience_id===s)),f&&f.experience_id===s||u&&r&&s){let u=l.Z.create(e,{placed_experience_id:`${r}%3A${s}`,extra_context:c??{},targeting:m}),g=v?o.Yb:o.xW;switch(i){case"dismissed":return u.callDelete().then(()=>{_(g(r,s,i)),_(p(void 0,t)),a&&n&&a({event_type:n,object_id_str:s.toString()})});case"completed":return u.callUpdate().then(()=>{!d&&(_(g(r,s,i)),_(p(void 0,t)),a&&n&&a({event_type:n,object_id_str:s.toString()}))});case"viewed":return _(g(r,s,i)),u.callUpdate().then(()=>{1000162===r&&_(p()),a&&n&&a({event_type:n,object_id_str:s.toString()})});case"completedWithoutHomefeed":return u.callUpdate().then(()=>{d||_(g(r,s,i)),a&&n&&a({event_type:n,object_id_str:s.toString()})})}}return Promise.resolve()},g=()=>{let e=(0,r.Z)();return(0,n.useCallback)(_("UserExperienceViewedResource","viewed",e,4503),[e])},h=()=>{let e=(0,r.Z)();return(0,n.useCallback)(_("UserExperienceCompletedResource","completed",e,6567),[e])},y=()=>{let e=(0,r.Z)();return(0,n.useCallback)(_("UserExperienceResource","dismissed",e,6568),[e])},f=()=>{let e=(0,r.Z)();return(0,n.useCallback)(_("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},v=(e,i)=>(a,t)=>{let{experiences:n}=t(),l=n[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach(a=>{let[,t]=a.split(":"),n=i;l.metadata&&l.metadata[t]&&(n={...i,...l.metadata[t]}),(0,d.Z)({url:`/v3/experiences/${a.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{c("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:t})})})},x=e=>(i,a)=>{i(v(e));let{experiences:t}=a();return t[e]},b=(e,i,a)=>n=>{a&&(t=a),n(v(e,i)),i&&Object.keys(i).length>0&&n(m([e],!1,i,a))}},703404:(e,i,a)=>{a.d(i,{A0:()=>o,E3:()=>r,MQ:()=>s,fL:()=>d});var t=a(883119),n=a(862249),l=a(785893);function r(e){return!!e&&0!==e.type}let s=(e,i,a)=>{let t=e[a];return i[a]&&r(t)?t:null};function o(e){return e.display_data?.anchor}let d=e=>{let i=new DOMParser().parseFromString(e,"text/html"),a=[...i.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,l.jsx)(t.xv,{inline:!0,children:e.textContent});{let i=e.href||"",a=(0,n.Z)({url:i});return(0,l.jsx)(t.rU,{display:"inline",externalLinkIcon:a?"default":"none",href:i,rel:a?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,l.jsx)(t.xv,{inline:!0,children:a})}},26616:(e,i,a)=>{a.d(i,{$S:()=>t,V$:()=>n,_4:()=>r,iY:()=>s,mR:()=>l});let t="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957753:(e,i,a)=>{a.d(i,{NW:()=>s,OD:()=>d,Yb:()=>o,cL:()=>u,xW:()=>r});var t=a(216167),n=a(26616);let l=e=>({type:n.$S,payload:{experiencesMulti:e}}),r=(e,i,a)=>({type:n.V$,payload:{placementId:e,experienceId:i,status:a}}),s=e=>i=>t.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?i(l(e.resource_response.data)):void 0),o=(e,i,a)=>({type:n.iY,payload:{placementId:e,experienceId:i,status:a}}),d=e=>({type:n._4,payload:{experiences:e}}),u=e=>({type:n.mR,payload:{experiences:e}})},190971:(e,i,a)=>{a.d(i,{c:()=>p});var t=a(667294),n=a(616550),l=a(839391),r=a(96157),s=a(624797),o=a(554786);let d=(e,i)=>((0,r.XU)(e)&&e.state?.from&&(e=e.state.from),(0,r.HV)(e))?i?1000503:1000558:(0,r.En)(e)?i?1000506:1000559:(0,r.L6)(e)?i?1000141:1000494:void 0,u=(e,i)=>{if(i&&(0,r.L6)(e))return 1000564},c=(e,i)=>{if(i){if((0,r.HV)(e))return 1000541;if((0,r.En)(e))return 1000542;if((0,r.L6)(e))return 1000140}else if((0,r.HV)(e))return 1000544;else if((0,r.En)(e))return 1000543;else if((0,r.L6)(e))return 1000540},p=()=>{let{mountPlacement:e,registerdAfterActionPlacements:i}=(0,l.Z)(),a=(0,o.HG)(),p=(0,n.TH)();return(0,t.useCallback)((t,n,l)=>{let o;switch(t){case"Save":o=d(p,a);break;case"Download":(0,r.L6)(p)&&(o=a?1000499:1000500);break;case"Clickthrough":o=c(p,a);break;case"NoAction":o=u(p,a)}null!=o&&((0,r.En)(p)&&(n={...n,search_query:(0,s.mB)(p.search)}),null!=o&&(i[o]||(0,r.XU)(p))&&e(o,n,l))},[i,e,p,a])}},839391:(e,i,a)=>{a.d(i,{L:()=>t,Z:()=>l});let{Provider:t,useHook:n}=(0,a(342513).Z)("ExperienceContext"),l=n},372085:(e,i,a)=>{a.d(i,{Z:()=>n});var t=a(216167);function n({url:e,method:i,data:a,ignoreBookmark:n,callOptions:l}){let r={url:e,data:a,...null!=n?{ignore_bookmark:n}:{},..."PATCH"===i?{patchInsteadOfPut:!0}:{}},s=t.Z.create("ApiResource",r);switch(i){case"POST":return s.callCreate(l);case"PUT":case"PATCH":return s.callUpdate(l);case"DELETE":return s.callDelete(l);default:return s.callGet(l)}}},262032:(e,i,a)=>{a.d(i,{Z:()=>s});var t=a(667294),n=a(883119);let l=(0,t.createContext)();var r=a(785893);function s(e){(0,t.useContext)(l);let{alt:i,color:a,children:s,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:m,naturalHeight:_,naturalWidth:g,onError:h,onLoad:y,role:f,sizes:v,src:x,srcSet:b,_fixCompletedOnLoad:P}=e;return(0,r.jsx)(n.Ee,{_fixCompletedOnLoad:P,alt:i,color:a,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:m,naturalHeight:_,naturalWidth:g,onError:h,onLoad:y,role:f,sizes:v,src:x,srcSet:b,children:s})}},547643:(e,i,a)=>{a.d(i,{Z:()=>r});var t=a(340523),n=a(5859),l=a(84768);function r(e){let{isAuthenticated:i}=(0,n.B)(),{expName:a,anyEnabled:r,group:s}=function({experimentsClient:e,handlerId:i,isAuthenticated:a,skipActivation:t}){let{checkExperiment:n}=e,l=n(a?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:t});return l.group?{expName:a?"web_masonry_v2_auth":"web_masonry_v2_unauth",...l}:"www/[username]/[slug].js"!==i||a?"www/pin/[id].js"!==i||a?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...n("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:t})}:{expName:"web_masonry_v2_unauth_board",...n("web_masonry_v2_unauth_board",{dangerouslySkipActivation:t})}}({experimentsClient:(0,t.F)(),handlerId:(0,l.MM)(),isAuthenticated:i,skipActivation:e?.skipActivation??!1});return{expName:a,anyEnabled:r,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},930837:(e,i,a)=>{a.d(i,{ZP:()=>d,b7:()=>r.b7,bN:()=>s,p4:()=>o});var t=a(240684),n=a(554786),l=a(785893),r=a(844683);let s=(0,t.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!a.m[i]},importAsync:()=>a.e(51879).then(a.bind(a,980536)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){return a(this.resolve(e))},resolve:()=>980536}),o=(0,t.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!a.m[i]},importAsync:()=>a.e(72430).then(a.bind(a,119936)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){return a(this.resolve(e))},resolve:()=>119936});function d(e){let i=(0,n.ZP)(),a=void 0===e.isOpen||e.isOpen;if("desktop"===i&&a){let{isOpen:i,mobileAccessibilityCloseIconLabel:a,mobileAllowScroll:t,mobileHeadingSize:n,mobileHideCloseIcon:r,mobileIsFullscreen:o,mobileIsSlideUp:d,type:u,mobileIsFooter:c,zIndex:p,...m}=e;return(0,l.jsx)(s,{...m})}let{allowMediaPlay:t,allowScroll:r,role:d,size:u,_dangerouslyDisableScrollBoundaryContainer:c,...p}=e;return(0,l.jsx)(o,{...p,isOpen:a})}},980536:(e,i,a)=>{a.r(i),a.d(i,{default:()=>d});var t=a(667294),n=a(883119),l=a(844683),r=a(30378),s=a(55202),o=a(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:a,allowClickAndDrag:d,allowMediaPlay:u,allowScroll:c,children:p,closeOnOutsideClick:m,footer:_,heading:g,onDismiss:h,role:y,size:f,subHeading:v}){return(0,t.useEffect)(()=>(r.Z.pause(),function(){r.Z.resume()}),[]),(0,o.jsx)(n.mh,{zIndex:l.b7,children:(0,o.jsx)(s.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:u,allowScroll:c,children:(0,o.jsx)(n.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:a,closeOnOutsideClick:m,footer:_,heading:g,onDismiss:()=>{r.Z.resume(),h()},padding:"none",role:y,size:f,subHeading:v,children:p})})})}},844683:(e,i,a)=>{a.d(i,{JN:()=>d,Vf:()=>u,ZM:()=>s,b7:()=>r,i_:()=>o});var t=a(883119),n=a(696534),l=a(425040);let r=new t.Ry(1e3),s=new t.H3([l.Z]),o=12,d=({variant:e,isDarkMode:i})=>{let a=i?n.N$:"#FFFFFF";return{__style:"fullpage"===e?{backgroundColor:a,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,zIndex:1,overflowY:"hidden"}:"fullscreen"===e?{backgroundColor:a,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{backgroundColor:a,border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{backgroundColor:a,border:i?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{backgroundColor:a,border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",overflow:"auto"}:{backgroundColor:a,border:i?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}},u=({isFullscreen:e,isTablet:i,isShowing:a,isRelatedInterestsModal:t,isDarkMode:n})=>{let l={border:n?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=a?"translateY(0)":"translateY(100vh)";return l.height=e?"100vh":"",i&&t&&(l={...l,width:425,left:"50%",transform:"translateX(-50%)"},r=a?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...l,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},454514:(e,i,a)=>{a.d(i,{UZ:()=>d,Vg:()=>o,ZP:()=>u});var t=a(667294),n=a(883119),l=a(554786),r=a(494125),s=a(785893);let o=200,d=({deviceType:e,hiding:i,visible:a})=>{let t="desktop"===e,n=0,l=t?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return a&&!i&&(n=1,l="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),a&&i&&(l="scale(1.1)",r="opacity transform 0.2s"),{opacity:n,pointerEvents:"auto",position:"relative",marginTop:t?10:0,transform:l,transition:r,visibility:s}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:i,text:a,primaryAction:u,dismissButton:c,helperLink:p,thumbnail:m,type:_,dataTestId:g,duration:h=2e3,onHide:y,href:f,onClick:v,openNewPage:x,imageUrl:b}){let P;let S=(0,l.ZP)(),[k,w]=(0,t.useState)(!1),[I,T]=(0,t.useState)(!1),E=(0,t.useRef)(),A=()=>{w(!0),E.current=setTimeout(y,o)},C=()=>{E.current=setTimeout(A,h)},D=()=>{E.current&&clearTimeout(E.current)};(0,r.Z)(()=>(setTimeout(()=>T(!0),100),C(),D)),b&&(P={image:(0,s.jsx)(n.Ee,{alt:"string"==typeof a?a:`${a[0]} ${a[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:b})});let L=(0,s.jsx)(n.FN,{_dangerouslySetPrimaryAction:i,_dangerouslySetThumbnail:e,dismissButton:c,helperLink:p,primaryAction:u,text:a,thumbnail:P??m,type:_}),{marginTop:R,opacity:F,pointerEvents:j,position:O,transform:N,transition:M,visibility:K}=d({deviceType:S,hiding:k,visible:I});return(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:N,transition:M,visibility:K,pointerEvents:j}},"data-test-id":g??"toast",display:"flex",marginTop:R,onMouseEnter:D,onMouseLeave:C,opacity:F,position:O,children:f?(0,s.jsx)(n.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{f.startsWith("#")&&(e.preventDefault(),i()),v?.(e)},rounding:"pill",target:x?"blank":null,children:L}):L})}},205841:(e,i,a)=>{a.d(i,{qE:()=>s,u_:()=>o.ZP,FN:()=>d.ZP});var t=a(883119),n=a(785893);let l=(e,i)=>!!(e?.includes("images/user/default")&&i);function r({accessibilityLabel:e,name:i,outline:a,size:r,src:s,verified:o}){return(0,n.jsx)(t.qE,{accessibilityLabel:e,name:i,outline:a,size:r,src:l(s,i)?void 0:s,verified:o})}r.displayName="Avatar";let s=r;var o=a(930837),d=a(454514)},807023:(e,i,a)=>{a.d(i,{Q:()=>r});var t=a(167912),n=a(91402),l=a(333739);function r(e,i,{useLegacyAdapter:a}){if(null==i)return{data:null,childDataKey__DEPRECATED:null};let r=(0,n.jc)(i);if("deprecated"===r.type){let{data:i}=r;return null==i?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,a)(i),childDataKey__DEPRECATED:r}}let s=(0,t.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},666472:(e,i,a)=>{a.d(i,{F:()=>h,Z:()=>g});var t=a(667294),n=a(263032),l=a(214877),r=a(547643),s=a(30378),o=a(5859),d=a(554786),u=a(369708),c=a(237040),p=a(953565),m=a(84768);let _={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function g({carouselData:e,closeupImpressionType:i,closeupNavigationType:a,componentType:g,contextLogData:h,clientTrackingParams:y,duploShouldTrackPinEvents:f,elementType:v,impressionAuxFields:x,inImpressionExp:b,impressionType:P,impressionsFramework:S,isPaused:k,loggingId:w,objectIdStr:I,slotIndex:T,trackCarousel:E,viewData:A,viewParameter:C,viewType:D,isPromoted:L,storyPinProductEventData:R,pinData:F}){let{logContextEvent:j}=(0,l.v)(),{logMrcVideoAdEventOnPlay:O}=(0,u.rG)(),N=(0,c.Yg)(),M=S||s.Z,K=(0,t.useRef)(null),Z=t=>{let l=_[P],r=l.idType,s={clientTrackingParams:y,endTime:t.endTime,[r]:w,slotIndex:T,time:t.startTime,renderDuration:t.endTime-t.startTime,type:i,...x,forcedExit:"removed"===t.forcedExit?0:void 0},o={};if("Pin"===P){let e=[],i=t.visibleEvents||new Map,a=t.hiddenEvents||new Map;if([1,50,80,2].forEach(t=>{i.has(t)&&e.push({type:t,time:i.get(t)||0,visible:!0}),a.has(t)&&e.push({type:t,time:a.get(t)||0,visible:!1})}),s={...s,pinCellWidth:K.current?.offsetWidth||0,pinCellHeight:K.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,i)=>e.time-i.time)},x?.chromeAraViewExp&&F&&F.isPromoted){let{attributionSourceId:e}=F;(0,n.YS)(P,F.isPromoted??null,e??null,F.link??null,F.campaignId??null,x.araAuxData??null,F.advertiserId??null,F.domain??null,F.adDestinationUrl??null),o={is_arapi:!0,attribution_source_id:e||""}}}let d={component:g,object_id_str:I,view_type:D,view_data:A||{},view_parameter:C};if(E)e&&E&&j({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...h,...o}});else{let e={clientTrackingParams:y,event_type:l.eventType,...d,element:v,event_data:{[l.impressionType]:"Story"===P?s:[s],...R?{storyPinProductEventData:R}:{}},aux_data:{closeup_navigation_type:a,...h,...o}};j(e),O(e)}f&&N?.("log_pin_impression")},{expName:U,group:z}=(0,r.Z)({skipActivation:!0}),B=(0,d.ZP)(),H=(0,m.MM)(),{isAuthenticated:V}=(0,o.B)(),G=(0,t.useCallback)(()=>{try{let{current:e}=K;e instanceof HTMLElement&&(!L||e.getElementsByTagName("img").length>0)&&(M.start(e).onExitViewport(Z).setDebugId(w||"unknown"),z&&(0,p.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:B,experimentName:U,group:z,handlerId:H,isAuthenticated:V,slotIndex:T??"unknown"}}))}catch{window.console.error('Can only track impressions for type "HTMLElement"')}f&&N?.("log_pin_impression_track")},[K.current]);return(0,t.useEffect)(()=>(b&&!M.inExperiment&&M.setExperimentStatus(!0),k||G(),()=>{let{current:e}=K;e instanceof HTMLElement&&(!L||e.getElementsByTagName("img").length>0)&&M.stop(e)}),[k,G]),K}let h=({children:e,...i})=>e({impressionTrackerRef:g(i)})},307772:(e,i,a)=>{function t(e,i,a){var t;return(i="symbol"==typeof(t=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?t:String(t))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}a.d(i,{Z3:()=>c,LU:()=>p,ZP:()=>m});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},s={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[l.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[l.exit]:s,[l.stopped]:s,[l.paused]:s,[l.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){t(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),t(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),t(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),t(this,"handleIntersectionChange",e=>{let i=e.intersectionRatio>0||e.isIntersecting,a=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,a),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,a):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,a),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,a):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,a),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,a),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,a),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,a),i&&!this.inViewport?(this.startTime=a,this._debug(l.enter,{startTime:a,node:this.node}),this.enterCallbacks.forEach(e=>e())):!i&&this.inViewport&&(this._debug(l.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=i}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(l.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(i=>i(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,i){if(n)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===i&&window.console.log(this.toDebugJSON()),"object"==typeof i&&window.console.log(i),o[e]&&Object.assign(this.node.style,o[e]),e){case l.flushed:case l.paused:case l.exit:r[this.debugId]=!0}}}function u(e,i,a){var t;return(i="symbol"==typeof(t=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?t:String(t))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}let c=!0,p=!1;class m{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let i=this.activeImpressions.get(e.target);i&&i.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,i)=>{let a=this.mutationObservers.get(i);a&&a.offsetHeight<1&&a&&this.stop(a,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,i=""){let a=this.activeImpressions.get(e);a&&(a.stop(i),this.mutationObservers.delete(a.mutationObserver),a.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let i=this.activeImpressions.get(e);return i||(i=new d(e),this.activeImpressions.set(e,i),window.activeImpressions?.set(e,i),this.observer.observe(e),i.setMutationObserver(new window.MutationObserver((e,i)=>this._handleMutations(e,i))),this.mutationObservers.set(i.mutationObserver,e),i.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),i}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,i){"top"===e?this.topObstructions.add(i):"bottom"===e&&this.bottomObstructions.add(i),this._calculateRootMargins()}removeObstruction(e,i){"top"===e?this.topObstructions.delete(i):"bottom"===e&&this.bottomObstructions.delete(i),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,i)=>{let{bottom:a}=i.getBoundingClientRect();return a>e?a:e},0),i=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,i)=>{let{top:a}=i.getBoundingClientRect();return a<e?a:e},window.innerHeight);if(e!==this.topHeight||i!==this.bottomHeight){let a={rootMargin:`${-e}px 0px ${-i}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,a),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=i}}}},30378:(e,i,a)=>{a.d(i,{Z:()=>t});let t=new(a(307772)).ZP},339001:(e,i,a)=>{a.d(i,{Wc:()=>d,XB:()=>o,bF:()=>c,nk:()=>s,r7:()=>p});var t=a(667294),n=a(785893);function l(e,i,a){return e.split(a).map(e=>{if(e.match(a)){let a=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(i,a))return i[a]}return e})}let r=/(\{\{\s*\w+\s*\}\})/g;function s(e,i){return l(e,i,r)}function o({text:e,markers:i,jsxReplacements:a}){let t=["strong","a","em"],n=/(\{\{\s*\w+\s*\}\})/g,r=/<\s*(strong|a|em)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,s=/<(strong|a|em)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,o=/<(strong|a|em)\b[^>]*>(.*?)<\/\1>/,d=e.match(r)?.map(e=>{let t=e.match(s),r=(t&&t[2])??0,d=e.match(o),u=(d&&d[2])??"",c=i?l(u,i,n):[u];return r&&a&&a[r]?.({innerHtmlStrings:c})});return e.split(r)?.map(e=>t.some(i=>e===i)?d?.shift():i?l(e,i,n):e)}function d(e,i){return l(e,i,r).join("")}let u=/(\{\s*\w+\s*\})/g;function c(e,i){return l(e,i,u)}let p=({text:e})=>Array.isArray(e)?e.map((e,i)=>(0,n.jsx)(t.Fragment,{children:e},i)):e},317540:(e,i,a)=>{a.d(i,{Z:()=>t});let t={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},705895:(e,i,a)=>{function t(e,i,a){var t;return(i="symbol"==typeof(t=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?t:String(t))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}a.d(i,{Z:()=>r});let n=new class{constructor(){t(this,"onResumeListeners",[]),t(this,"onPauseListeners",[]),t(this,"inExp",!1),t(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(i=>i!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(i=>i!==e)}getAppState(){return this.windowInFocus?0:void 0}},l=e=>{if(e.isHidden){let{reason:i}=e;n.windowInFocus=!1,n.onPauseListeners.forEach(e=>e(i))}else n.windowInFocus=!0,n.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>l({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>l({isHidden:!1})),window.addEventListener("blur",()=>l({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>l({isHidden:!1})),window.addEventListener("pagehide",()=>l({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=n},510972:(e,i,a)=>{a.d(i,{P:()=>o,t:()=>d});var t=a(216167),n=a(372085);let l=()=>{};async function r(e,i){let a=t.Z.create("PinFeedbackResource",e);await a.callUpdate(),i()}let s={complaint:r,followBoard:async function({board_id:e},i,a){await (0,n.Z)({url:`/v3/boards/${e??""}/follow/`,method:"PUT"}),a({event_type:26,object_id_str:e}),i()},followPinner:async function(e,i){let a=t.Z.create("UserFollowResource",e);await a.callCreate(),i()},followTopic:async function(e,i,a){let n=t.Z.create("InterestFollowResource",e);await n.callCreate(),i(),a({event_type:601,object_id_str:e.interest_id})},newsHubPinHide:function(e,i){(0,n.Z)({url:e.undo?`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/undo/`:`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/hide/`,method:"PUT"}).then(()=>i()),r({feedback_type:1,pin_id:e.pin_id,...e},i)},promotedComplaint:async function(e,i){let a=t.Z.create("PinFeedbackResource",e);await a.callUpdate(),i()},relatedPinHide:function(e,i){(0,n.Z)({url:e.undo?`/v3/p2p/${e.pin??""}/unhide/`:`/v3/p2p/${e.pin??""}/hide/`,method:"PUT"}).then(()=>i()),r({feedback_type:1,pin_id:e.pin,...e},i)},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:async function({board_id:e},i,a){await (0,n.Z)({url:`/v3/boards/${e??""}/follow/`,method:"DELETE"}),a({event_type:27,object_id_str:e}),i()},unfollowPinner:async function(e,i){let a=t.Z.create("UserFollowResource",e);await a.callDelete(),i()},unfollowTopic:async function(e,i,a){let n=t.Z.create("InterestFollowResource",e);await n.callDelete(),i(),a({event_type:602,object_id_str:e.interest_id})},unrelatedSearchPin:function(e,i){(0,n.Z)({url:e.undo?`/v3/search/${e.pin_id??""}/unhide/`:`/v3/search/${e.pin_id??""}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(()=>i()),r({feedback_type:1,...e},i)}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function d(e,i={},a=l,t){let n=e?s[e]:null;return n?n(i,a,t):a()}},899394:(e,i,a)=>{a.d(i,{EF:()=>p,Iv:()=>d,Ud:()=>o,hP:()=>s,nb:()=>c,oK:()=>u});var t=a(339001),n=a(510972),l=a(555933);let r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function s({boardFollowedByMe:e,feedbackType:i,viewParameter:a,promotion:t,recommendationReason:n,pinnerFollowedByMe:l}){if(t&&!t.isDownstreamPromotion)return"promoted";if(i)return i;if(n){if("FOLLOWED_INTEREST"===n.reason)return"topic";if("FOLLOWING_FEED"!==n.reason&&"RECENT_FOLLOWED_BOARD"!==n.reason)return n.hasBoard?"pfyBoard":"pfy"}if(e||l)return"followed";switch(a){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function o({feedback:e,i18n:i,makeNavigateLink:a}){switch(e.type){case"pfy":return i._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:n}=e;return n?(0,t.nk)(i._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:a("navigation",n.url,n.name)}):null;case"topic":let{sourceInterest:l}=e;return l?(0,t.nk)(i._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:a("topicUrl",`/topics/${l.url_name}`,l.name)}):null;case"followed":let{followed:s}=e;return"pinner"===s.type?(0,t.nk)(i._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:a("pinnerUrl",`/${s.pinner?.username??""}`,r(s.pinner?.full_name??""))}):(0,t.nk)(i._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:a("boardUrl",s.board?.url??"",r(s.board?.name??""))});case"promoted":let{promotedIsPersonalized:o,isEligibleForPromotedPartnership:d,promotedPartnershipAttributionName:u,promotedPartnershipAdvertiserName:c}=e.thirdPartyAdAttributes||{};if(!o&&d)return(0,t.nk)(i._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:c,promotedPartnershipAttributionName:u});if(!e.promoter||o)return i._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:n,username:l}=e.promoter,r=a("promotedLink",l?"/"+l+"/":"/",n);return(0,t.nk)(i._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}}function d({sourceInterest:e,i18n:i,makeNavigateLink:a}){return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:l.X},title:"",subTitle:(0,t.nk)(i._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:a("topicUrl",`/topics/${e.url_name??""}`,e.name??"",!0)})}}function u({boardId:e,display:i,i18n:a,makeNavigateLink:n}){return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===i.type?(0,t.nk)(a._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:n("pinnerUrl",`/${i.data.username??""}`,i.data.full_name??"",!0)}):(0,t.nk)(a._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n("boardUrl",i.data.url??"",i.data.name??"",!0)})}}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,i,a,t,l,r){return()=>{let s={...e,undo:!0},o=i;"unfollowPinner"===i?o="followPinner":"unfollowBoard"===i?o="followBoard":"unfollowTopic"===i&&(o="followTopic"),(0,n.t)(o,s,void 0,r),l(),r({event_type:101,component:0,element:11181,view_type:a??void 0,view_parameter:t})}}},391884:(e,i,a)=>{a.d(i,{Z:()=>t});function t({embedSrc:e,embedType:i,imagesUrls:a,preferredResolution:t,excludeOriginals:n}){if(!e&&!i&&!a)return"";if("gif"===i)return e||"";if(!a)return"";if(t){let e="474x"===t&&a["474x"]||"236x"===t&&a["236x"]||a["736x"];if(e)return e}let l=Object.keys(a).reduce((e,i)=>{try{let t=i.split("x")[0];if(Number.isNaN(Number(t)))return{...e,[i]:a[i]};return{...e,[t]:a[i]}}catch(i){return e}},{}),r=Object.keys(l);return n&&"orig"===r[r.length-1]&&r.pop(),l[r.pop()]||""}},558273:(e,i,a)=>{a.d(i,{NK:()=>h,P6:()=>l,ZE:()=>_,Zt:()=>g,_J:()=>o,_S:()=>y,cL:()=>p,jL:()=>s,oN:()=>n,rM:()=>m,sV:()=>d,sY:()=>u});var t=a(115557);let n=5e3,l=5e3/t.gJ,r=["Uploaded by user"],s=(e,i)=>!!i&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:i,embedType:a})=>!!e&&!u(a)&&!c(i),m=({link:e,mobileLink:i,trackedLink:a})=>!i&&!a&&!e,_=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:i,origImageUrl:a,trackedLink:t})=>i||t||e||a||"",h=(e,i)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:i.state?i.state.trackingParams:""}}});function y(e){for(let i of r)if(e===i)return!1;return!0}},661428:(e,i,a)=>{a.d(i,{Z:()=>r}),a(167912);var t,n=a(207012);let l=void 0!==t?t:t=a(890030),r=e=>{let i=(0,n.Z)(l,e);return[["60x60",i?.imageSpec_60x60],["136x136",i?.imageSpec_136x136],["170x",i?.imageSpec_170x],["236x",i?.imageSpec_236x],["474x",i?.imageSpec_474x],["564x",i?.imageSpec_564x],["736x",i?.imageSpec_736x],["600x315",i?.imageSpec_600x315],["orig",i?.imageSpec_orig]].reduce((e,[i,a])=>a?{...e,[i]:a.url}:e,{})}},555933:(e,i,a)=>{a.d(i,{X:()=>t});let t="favorited"},178093:(e,i,a)=>{a.d(i,{kf:()=>h,l5:()=>_,of:()=>p,xC:()=>g,yz:()=>m});var t=a(667294),n=a(342513),l=a(805783),r=a(494125),s=a(194602),o=a(953565),d=a(785893);let{Provider:u,useMaybeHook:c}=(0,n.Z)("PwaContext"),p=({children:e,initialContext:i})=>{let[a,n]=(0,t.useState)(null),s=i||{pwaType:"unknown",twaType:null},c=s.pwaType;(0,r.Z)(()=>{let e=(0,l.FB)(window)||"unknown";n(e),c!==e&&(0,o.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&a?a:c,{twaType:m}=s,_=(0,t.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,d.jsx)(u,{value:_,children:e})},m=()=>{let e=c();return e?.pwaType??"unknown"},_=()=>{let e=c();return e?.twaType??null},g=()=>"android-twa"===m(),h=()=>{let e=m(),i=(0,s.Z)();return"unknown"===e&&i?null:"windows"===e}},686769:(e,i,a)=>{a.d(i,{A:()=>r,Z:()=>s});var t=a(667294),n=a(883119),l=a(785893);let r=({fill:e})=>{let i="half"===e?(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)(n.xu,{position:"absolute",children:(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(n.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:i})};function s({max_rating:e,rating:i}){var a;let t=[],s=parseFloat(e)||5,o=5*(a=(a=parseFloat(i)||0)<=s?a:s)/s;if(Number.isNaN(o))return null;let d=Math.floor(o),u=o-d;return[...Array(d).keys()].forEach(e=>t.push((0,l.jsx)(r,{fill:"full"},e))),u>=.75?t.push((0,l.jsx)(r,{fill:"full"},t.length)):u>=.25&&t.push((0,l.jsx)(r,{fill:"half"},t.length)),[...Array(5-t.length).keys()].forEach(()=>t.push((0,l.jsx)(r,{fill:"empty"},t.length))),(0,l.jsx)(n.xu,{display:"inlineBlock",position:"relative",width:15*s,children:t})}},737244:(e,i,a)=>{function t({m:e=0,h:i=0}){let a;return a=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:a}}function n(e){let i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}a.d(i,{X:()=>t,u:()=>n})},569372:(e,i,a)=>{a.d(i,{Z:()=>l,y:()=>n});class t{constructor(){var e,i,a;i={},(e="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e="pending","string"))?a:String(a))in this?Object.defineProperty(this,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[e]=i}add(e,i,a){a&&(this.pending[e]={...this.pending[e]??{},[i]:a},a.finally?.(()=>this.remove(e,i)))}remove(e,i){this.pending[e]?.[i]&&(delete this.pending[e][i],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,i){return this.pending[e]?.[i]??null}}let n=new t,l=new t},638747:(e,i,a)=>{a.d(i,{UZ:()=>m,Z8:()=>_,my:()=>g,vL:()=>y,w1:()=>h});var t=a(667294),n=a(545007),l=a(216167),r=a(342513),s=a(827625),o=a(785893);function d(e,i,a){let t=[...i[e][a.payload.name]??[],a.payload.handler],n={...i};return n[e]={...i[e],[a.payload.name]:t},n}function u(e,i,a){if(!i[e][a.payload.name])return i;let t=i[e][a.payload.name].filter(e=>e!==a.payload.handler),n={...i};return n[e]={...i[e],[a.payload.name]:t},n}let{Provider:c,useHook:p}=(0,r.Z)("ResourceContext");function m({children:e,resourceCreator:i}){let[{listeners:a,moreListeners:n},r]=(0,t.useReducer)((e,i)=>{switch(i.type){case"addListener":return d("listeners",e,i);case"addMoreListener":return d("moreListeners",e,i);case"removeListener":return u("listeners",e,i);case"removeMoreListener":return u("moreListeners",e,i);default:return e}},{listeners:{},moreListeners:{}});l.Z.fetchCompleteCallback=({resource:e,options:i,response:t,normalizedResponse:n,refresh:l,resourceSchema:r})=>{a[e]&&a[e].forEach(a=>a({isRefresh:l,normalizedResponse:n,options:i,schema:r,resource:e,response:t}))},l.Z.fetchMoreCompleteCallback=({resource:e,options:i,response:a,normalizedResponse:t,refresh:l,resourceSchema:r})=>{n[e]&&n[e].forEach(n=>n({isRefresh:l,normalizedResponse:t,options:i,schema:r,resource:e,response:a}))};let s=(0,t.useMemo)(()=>({listenerDispatch:r,resourceCreator:i}),[i]);return(0,o.jsx)(c,{value:s,children:e})}function _(e,i){let{listenerDispatch:a}=p();(0,t.useEffect)(()=>(a({type:"addListener",payload:{name:e,handler:i}}),()=>{a({type:"removeListener",payload:{name:e,handler:i}})}))}function g(e,i){let{listenerDispatch:a}=p();(0,t.useEffect)(()=>(a({type:"addMoreListener",payload:{name:e,handler:i}}),()=>{a({type:"removeMoreListener",payload:{name:e,handler:i}})}))}function h(){let e=(0,n.I0)();return(0,t.useCallback)((i,a)=>e((0,s.jB)(i,a)),[e])}function y(){return p().resourceCreator}},637253:(e,i,a)=>{a.d(i,{Z:()=>_});var t=a(667294),n=a(545007),l=a(288240),r=a(5859),s=a(227258),o=a(839967),d=a(569372),u=a(638747);let{Provider:c,useMaybeHook:p}=(0,a(342513).Z)("SuspensefulResource"),m=({httpStatus:e})=>!e||e>=500;function _(e,i,a,c){let{headers:_,name:g,noCache:h,options:y,schema:f}=e;p();let v=function(){let e=p();return e?i=>e.addToBeSentData(i):()=>{}}(),x=(0,u.vL)(),b=(0,n.I0)(),P=(0,l.Z)(y),S=(0,t.useRef)(),k=e=>(e[g]||o.U_)[P]||o.U_,w=(0,n.v9)(({resources:e})=>{let i=k(e);return!!i.error||void 0!==i.data}),I=(0,n.v9)(({resources:e})=>k(e).error),T=(0,n.v9)(({resources:e})=>!!k(e).fetching),E=(0,n.v9)(({resources:e})=>k(e).nextBookmark),A=w&&!T&&E===o.qx,C=(0,t.useCallback)(e=>{let i=b((0,s.U)(g,{options:y,schema:f,bookmark:e,headers:_},x,v));e||d.Z.add(g,P,i)},[b,g,P,f,_]),D=(0,t.useCallback)(()=>{let e=b((0,s.b)(g,{options:y,schema:f,headers:_},x));d.Z.add(g,P,e)},[b,g,P,f,_]),L=(0,t.useCallback)(()=>{a||D()},[a,D]),R=(0,t.useCallback)(()=>{!E||A||T||a||C(E)},[a,C,A,T,E]),{isBot:F}=(0,r.B)(),j=(0,t.useCallback)(()=>{if(!(T||d.Z.get(g,P))&&!a&&S.current!==P){let e=void 0===S.current;S.current=P,!w||c&&e&&I&&m(I)?C():(!F&&h||i)&&D()}},[c,C,D,a,I,F,T,w,i,g,h,P]),O=(0,t.useMemo)(()=>({fetchMore:R,name:g,optionsKey:P,refresh:L}),[R,g,P,L]);return(0,t.useMemo)(()=>({fetchResource:j,dispatchFetchMore:R,refreshHandler:L,ref:O}),[j,R,L,O])}},757640:(e,i,a)=>{a.d(i,{Z:()=>u});var t=a(667294),n=a(545007),l=a(616550),r=a(288240),s=a(227258),o=a(839967),d=a(637253);function u(e){let{enabledRouteRefresh:i,headers:a,name:u,noCache:c,options:p,schema:m}=e??{name:o.fY,options:null},_=!e,g=(0,r.Z)(p),h=(0,l.k6)(),y=h&&"POP"!==h.action,f=e=>(e[u]||o.U_)[g]||o.U_,v=(0,n.v9)(({resources:e})=>f(e).nextBookmark),x=(0,n.v9)(({resources:e})=>f(e).data),b=(0,n.v9)(({resources:e})=>f(e).auxData),P=(0,n.v9)(({resources:e})=>f(e).error),S=(0,n.v9)(({resources:e})=>!!f(e).fetching),k=!!P||void 0!==x,w=k&&!S&&v===o.qx,I=!!(k&&i&&y&&!_),[T,E]=(0,t.useState)(I),{fetchResource:A,dispatchFetchMore:C,refreshHandler:D}=(0,d.Z)({headers:a,name:u,noCache:c,options:p,schema:m},I,_,!0);(0,t.useEffect)(()=>{A()});let L=(0,t.useCallback)(()=>{_||(D(),E(!0))},[_,s.b,u,g,a,E]),R=(0,t.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:C,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:L}),F={auxData:b,data:x,error:P,fetchMore:C,isAtEnd:w,isFetching:S,isLoaded:k,isRefreshing:T,nextBookmark:v,refresh:L};return(0,n.wU)(F,R.current)||(T&&(R.current.data||!I)&&!(0,n.wU)(F.data,R.current.data)&&(F.isRefreshing=!1,E(!1)),R.current=F),R.current}},251843:(e,i,a)=>{a.d(i,{Z:()=>l});var t=a(883119),n=a(785893);function l({accessibilityLabel:e}){return(0,n.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},608516:(e,i,a)=>{a.d(i,{Z:()=>t});let t=a(14583).Z},207890:(e,i,a)=>{a.d(i,{Z:()=>o,t:()=>d});var t=a(667294),n=a(167912),l=a(216167);function r(e,i,a){var t;return(i="symbol"==typeof(t=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?t:String(t))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}let s={};class o extends t.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){let{invite_code:e}=this.props;l.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(i=>{if(i&&i.resource_response){let a=i.resource_response.data;s[e]=a,this.setState({invite:a,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends t.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){let{invite_code:e,relayEnvironment:i,inviteQuery:a}=this.props;(0,n.fetchQuery)(i,a,{invite_code:e}).subscribe({next:e=>{if(e.v3GetInviteCodeQuery?.data){let i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},55202:(e,i,a)=>{a.d(i,{U:()=>r,Z:()=>s});var t=a(317540),n=a(785893);let l=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:i,allowMediaPlay:a,allowScroll:s,children:o}){let d=e=>{i&&e.keyCode===t.Z.ESCAPE||r(e)};return(0,n.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:l,onCanPlay:a?l:r,onCanPlayThrough:r,onChange:r,onClick:e?l:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:l,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?l:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?l:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?l:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?l:r,onTouchMove:e?l:r,onTouchStart:e?l:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:o})}},546213:(e,i,a)=>{a.d(i,{Qy:()=>d,Wu:()=>c,ZP:()=>u});var t=a(616550),n=a(883119),l=a(5859),r=a(624797),s=a(149722),o=a(785893);let d=()=>{let e=(0,s.Z)(),{isInternalIP:i}=(0,l.B)(),a=(0,t.TH)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(a.search)).some(e=>e.startsWith("deb_"))};function u({data:e}){return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,o.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let c=e=>(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,o.jsx)(u,{...e})})},13848:(e,i,a)=>{a.d(i,{F9:()=>n,Zo:()=>t});let{Provider:t,useHook:n}=(0,a(342513).Z)("toastManagerContext")},373543:(e,i,a)=>{a.d(i,{Z:()=>n});var t=a(623891);let n=({url:e})=>{if(e){let i=e.split("?");if(i[1])return(0,t.Z)(i[1])}return(0,t.Z)()}},862249:(e,i,a)=>{a.d(i,{Z:()=>n});var t=a(968946);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,t.Z)(e))},689390:(e,i,a)=>{a.d(i,{Z:()=>t});function t(e){if((e||"").includes("--")){let i=e.split("--"),a=i.pop();return{text:i.join("--"),pinId:a}}return{text:"",pinId:e}}},494125:(e,i,a)=>{a.d(i,{Z:()=>n});var t=a(667294);let n=e=>{(0,t.useEffect)(e,[])}},369708:(e,i,a)=>{a.d(i,{Wr:()=>u,rG:()=>d});var t=a(667294),n=a(214877),l=a(342513),r=a(340523),s=a(785893);let{Provider:o,useHook:d}=(0,l.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:i,logImpression:a}=(0,n.v)(),{checkExperiment:l}=(0,r.F)(),[d,u]=(0,t.useState)(!1),[c,p]=(0,t.useState)([]),[m,_]=(0,t.useState)([]),[g,h]=(0,t.useState)({}),y=l("web_ads_mrc_video_impression").anyEnabled,f=e=>{h(i=>({...i,[e]:!0}))},v=(0,t.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:i}=e.event_data.pinImpressions[0],a=(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(i||a)&&p(i=>[...i,e].slice(-1e3))}},[y]),x=(0,t.useCallback)(e=>{18===e.eventType&&y&&_(i=>[...i,e].slice(-1e3))},[y]),b=e=>{let{renderDuration:i,time:a}=e.event_data.pinImpressions[0],t=Math.max(i,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:a+t,renderDuration:t}]}}},P=e=>{if(e.eventData){let{time:i,endTime:a}=e.eventData,t=Math.max((a??0)-(i??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(i??0)+t}}}return null};(0,t.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:a}=e.event_data.pinImpressions[0];return!g[a]||!y||(i(b(e)),!1)});e.length!==c.length&&p(e)},[c,y,i,g]),(0,t.useEffect)(()=>{let e=m.filter(e=>{let i=e.eventData?.pinIdStr;if(!i)return!1;if(g[i]&&y){let i=P(e);return i&&a(i),!1}return!0});e.length!==m.length&&_(e)},[m,y,a,g]);let S=(0,t.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:x,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:g}),[d,v,x,g]);return(0,s.jsx)(o,{value:S,children:e})}},115557:(e,i,a)=>{a.d(i,{$f:()=>n,Cy:()=>o,DR:()=>t,Fm:()=>s,bR:()=>r,gJ:()=>l,lG:()=>d});let t=1,n=2,l=1e3,r=1e3,s=1e3,o=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},939809:(e,i,a)=>{a.d(i,{Cy:()=>d,HE:()=>u,Mv:()=>l,PR:()=>_,Y4:()=>c,dL:()=>n,fS:()=>p,fv:()=>s,lu:()=>m,qS:()=>o,uc:()=>r});var t=a(666472);let n=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},l=e=>{let i=(0,t.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},r=e=>{let i=(0,t.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},s=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:i})},o=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},d=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},u=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},c=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},p=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:i})},m=e=>{let i=(0,t.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:i})},_=e=>{let i=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},425040:(e,i,a)=>{a.d(i,{Z:()=>l,w:()=>r});var t=a(883119),n=a(232887);let l=new t.H3([n.Z]),r=160},446504:(e,i,a)=>{a.d(i,{Z:()=>d});var t=a(616550),n=a(883119),l=a(140017),r=a(339001),s=a(564855),o=a(785893);function d({boardUrl:e,boardName:i,directSaveExpGroup:a,isQuicksave:d,sectionName:u,sectionSlug:c}){let p=(0,l.ZP)(),m=(0,t.k6)(),_=new n.Ry(1),g=!!c&&`${e}${c}/`;return a.includes("footer")?(0,o.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:_,children:(0,o.jsx)(n.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:a.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(n.iP,{onTap:i=>{i.event.preventDefault(),m.push(d?"/me/":g||e)},children:(0,o.jsx)(n.xu,{bottom:!0,left:!0,marginBottom:4,marginEnd:4,marginStart:4,position:"absolute",right:!0,children:(0,o.jsxs)(n.xu,{position:"relative",children:[(0,o.jsx)(n.xu,{children:(0,o.jsx)(n.xv,{color:"light",children:p._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,o.jsxs)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:[(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},overflow:"hidden",children:(0,o.jsx)(n.xv,{color:"light",children:u?(0,r.nk)(p._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,o.jsx)(n.xv,{color:"light",inline:!0,weight:"bold",children:(0,s.ZP)(u,22)},`pincard-${u}`)}):(0,r.nk)(p._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,o.jsx)(n.xv,{color:"light",inline:!0,weight:"bold",children:d?p._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,s.ZP)(i,22)},`pincard-${i}`)})})}),(0,o.jsx)(n.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,o.jsx)(n.JO,{accessibilityLabel:p._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),color:"light",icon:"arrow-forward",size:"16"})})]})]})})})})}):a.includes("overlay")?(0,o.jsx)(n.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:_,children:(0,o.jsx)(n.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:a.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(n.iP,{fullHeight:!0,fullWidth:!0,onTap:i=>{i.event.preventDefault(),m.push(d?"/me/":g||e)}})})}):(0,o.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:_,children:(0,o.jsx)(n.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:a.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(n.iP,{onTap:i=>{i.event.preventDefault(),m.push(d?"/me/":g||e)},children:(0,o.jsx)(n.xv,{color:"light",children:u?(0,r.nk)(p._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,o.jsx)(n.xv,{color:"light",inline:!0,weight:"bold",children:(0,s.ZP)(u,22)},`pincard-${u}`)}):(0,r.nk)(p._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,o.jsx)(n.xv,{color:"light",inline:!0,weight:"bold",children:d||!i?p._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,s.ZP)(i,22)},`pincard-${i}`)})})})})})}},544955:(e,i,a)=>{a.d(i,{Z:()=>x});var t,n=a(667294),l=a(167912),r=a(883119),s=a(877457),o=a(140017),d=a(587703),u=a(614792),c=a(175789),p=a(873342),m=a(785893);let _=({clickLoggingOptions:e,domain:i,link:a,onClick:t,maxDomainLength:l})=>{let s=u.lO()?.logging,_=(0,o.ZP)(),g=(0,d.Z)(),[h,y]=(0,n.useState)(!1),f=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map(i=>({component:0,element:162,view_type:s?.viewType,view_parameter:s?.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i}));return(0,m.jsx)(r.Tg,{href:a,onMouseEnter:()=>{y(!0)},onMouseLeave:()=>{y(!1)},onTap:({event:e})=>{e.stopPropagation(),f().forEach(e=>g(e)),t(e)},rel:"nofollow",target:"blank",children:(0,m.jsxs)(r.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{...p.styles.container,...h?p.styles.containerHovered:Object.freeze({})}},display:"flex",justifyContent:"between",left:!0,marginBottom:4,marginStart:4,maxWidth:"86%",position:"absolute",rounding:4,children:[(0,m.jsx)(r.xu,{display:"flex",flex:"none",marginBottom:3,marginStart:3,marginTop:3,children:(0,m.jsx)(r.JO,{accessibilityLabel:_._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge'),color:"default",icon:"arrow-up-right",size:9})}),(0,m.jsx)(r.xu,{alignItems:"baseline",display:"flex",height:18,marginEnd:3,marginStart:2,overflow:"hidden",children:(0,m.jsx)(r.xv,{color:"default",inline:!0,lineClamp:1,size:"200",weight:"bold",children:(0,c.Z)(i,l||27)})})]})})};var g=a(608516),h=a(437387),y=a(400193);let f=(0,n.lazy)(()=>Promise.all([a.e(61547),a.e(7257)]).then(a.bind(a,917094))),v=void 0!==t?t:t=a(877463),x=({domainLinkData:e,pinGraphqlRef:i,pinId:a,viewParameter:t,hoveringInFeed:d})=>{let u=(0,o.ZP)(),c=(0,s.g)(),p=(0,l.useFragment)(v,i),[x,b]=(0,n.useState)(!1),P=(0,n.useRef)(null),S=(0,m.jsx)(h.Z,{graphqlRef:p||null,hoveringInFeed:d,onMobileTap:()=>{b(!x)},onSendButtonClick:()=>{},pinId:a,viewParameter:t}),k=(0,m.jsx)(y.Z,{hoveringInFeed:d,onDefaultSendButtonClick:e=>{e.stopPropagation(),e.preventDefault(),b(!0)},sendButtonBgColor:"lightGray",viewParameter:t});return(0,m.jsxs)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(17,17,17,0.4)"}},left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:[(0,m.jsx)(r.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,paddingX:2,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(r.xv,{align:"center",color:"light",size:"400",weight:"bold",children:u._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,m.jsx)(r.xu,{bottom:!0,left:!0,minWidth:"100%",position:"absolute",width:"100%",children:(0,m.jsx)(_,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,maxDomainLength:d?12:void 0,onClick:e.onClick||c?.pinLinkClickHandler||(()=>{})})}),d&&(0,m.jsxs)(r.xu,{alignItems:"stretch",bottom:!0,display:"flex",justifyContent:"end",marginBottom:4,marginEnd:4,position:"absolute",right:!0,children:[(0,m.jsxs)(r.xu,{ref:P,marginEnd:2,children:[k,x&&(0,m.jsx)(g.Z,{children:(0,m.jsx)(f,{anchor:P.current,component:194,objectId:a,objectType:1,onDismiss:()=>b(!1),title:u._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover'),viewParameter:t,viewType:3})})]}),S]})]})}},908544:(e,i,a)=>{a.d(i,{ZP:()=>Q});var t,n=a(667294),l=a(167912),r=a(616550),s=a(240684),o=a(883119),d=a(214877),u=a(419075),c=a(262032),p=a(547643),m=a(695238),_=a(333739),g=a(140017),h=a(96157),y=a(558273),f=a(223785),v=a(340523),x=a(5859),b=a(782005),P=a(623409),S=a(163471),k=a(554786),w=a(776998),I=a(237040),T=a(419128),E=a(649029),A=a(256963),C=a(446504),D=a(544955),L=a(56977),R=a(761203),F=a(19447),j=a(256918),O=a(953565),N=a(118923),M=a(832853),K=a(42040),Z=a(785893);let U=(0,s.ZP)({resolved:{},chunkName:()=>"PinVideoWithVisibilityWrapper",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!a.m[i]},importAsync:()=>Promise.all([a.e(97270),a.e(13704)]).then(a.bind(a,568956)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){return a(this.resolve(e))},resolve:()=>568956}),z=(0,M.Z)(()=>Promise.all([a.e(97270),a.e(13704)]).then(a.bind(a,568956)),void 0,"PinVideoWithVisibilityWrapper"),B=e=>(0,N.b)()?(0,Z.jsx)(z,{...e}):(0,Z.jsx)(U,{...e}),H=void 0!==t?t:t=a(958573),V="Left",G="Right",W=({width:e,height:i,minY:a,maxY:t})=>{let n=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:a<=0?"0%":n(-1*a*i),bottom:t>=1?"0%":n(-((1-t)*1)*i)}},Y=({children:e,margin:i,disableRounding:a,type:t})=>(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},"data-test-id":"pin-visual-wrapper",position:"relative",children:(0,Z.jsx)(o.xu,{"data-test-id":`inp-perf-pinType-${t}`,children:(0,Z.jsx)(o.zd,{rounding:a?0:f.mv,wash:!0,children:e})})}),q=({clientTrackingParams:e,color:i,data:a,description:t,directSaveExpGroup:l,domainLinkData:s,image:m,imageAltText:_,imageCrop:f,isBoardIdeas:R,isOneTapExploreLocalTab:F,isSquarePin:N,lazyLoadImage:M,onError:U,oneTapSave:z,onLoad:H,pinId:q,priorityFetchImage:$,disableDefaultContextMenu:Q,pinnedToBoardId:X,productPrice:J,disableRounding:ee,storyDataExists:ei,title:ea,type:et,videoDuration:en,viewType:el,slotIndex:er,isPromotedPin:es,setIsLongPressEnabledForAuth:eo,childDataKey__DEPRECATED:ed,setCarouselIndex:eu,carouselIndex:ec,viewParameter:ep})=>{let em;let e_=(0,g.ZP)(),eg=(0,S.Z)(),{checkExperiment:eh}=(0,v.F)(),[ey,ef]=(0,n.useState)(!1),[ev,ex]=(0,n.useState)(!1),{isAuthenticated:eb}=(0,x.B)(),eP=(0,k.ZP)(),eS="desktop"===eP,ek=(0,j.M)(),ew=X&&!!ek?.isSaved(q),eI=s&&s.link?"with-link":"without-link",eT=!eb&&!eS,eE=(0,n.useRef)(Date.now()),eA=(0,n.useRef)(null),eC=(0,P.Z)(),{shouldOpenInStream:eD,carouselData:eL,isEligibleForPdp:eR}=a,eF=(0,K.I)(),{logContextEvent:ej}=(0,d.v)(),eO=es&&ei&&eh("ads_mweb_idea_ad").anyEnabled,eN=eh("ads_show_carousel_on_mweb").anyEnabled,eM=(0,I.nF)(),eK=(0,p.Z)({skipActivation:!0}).isImpressionFixEnabled||eM.isImpressionFixEnabled,eZ=eS&&!eb&&ey,eU=(0,n.useCallback)(()=>{ev||ex(!0)},[ev]);(0,n.useEffect)(()=>(eN&&"undefined"!=typeof window&&window.addEventListener("scroll",eU),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eU)}),[eN,eU]),(0,n.useEffect)(()=>{ey&&!eb&&eC({action:"view",item:"unauth-video-autoplay-on-hover"})},[ey,eC,eb]),(0,n.useEffect)(()=>{let e=`board-image-preload-${er-1}`,i=document.getElementById(e)?.getAttribute("href")??"";eF&&5===el&&i&&(0,O.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:eb,deviceType:eP,isEqual:i===m.url}})},[]);let ez=(0,A.Z)(ed),eB=e=>{let i=eL?.carouselSlots?.length??0,a=ec;e===V&&ec<i-1?a=ec+1:e===G&&ec>0&&(a=ec-1),eu(a),ez({pinId:q,currentIndex:ec,nextIndex:a,carouselData:{carouselSlots:eL?.carouselSlots?.map(({slotId:e})=>({id:e})),entityId:eL?.entityId??""},viewParameter:ep,viewType:el,componentType:14887,isEligibleForPdp:eR??!1})},eH=(e,i)=>{let a=e.x-i.x,t=e.y-i.y;return Math.abs(a)>Math.abs(t)?a>0?G:V:t>0?"Down":"Up"},eV=eN&&eL?(0,Z.jsx)(o.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3,position:"relative",children:(0,Z.jsx)(T.default,{addEllipsis:!0,alwaysShowNavigationArrows:!1,carouselData:{carouselSlots:eL.carouselSlots?.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:eL.entityId??"",index:eL.index},carouselIndex:ec,componentType:14888,ellipsisVariant:"dark",handleCarouselSwipe:e=>{eu(e)},hideNavigationArrows:!0,pinKey:ed,viewParameter:ep,viewType:el})}):null,eG=eN&&eL?(0,Z.jsx)(E.Z,{_fixCompletedOnLoad:eK,carouselSlots:eL.carouselSlots?eL.carouselSlots.map(({slotId:e,details:i,imageSignature:a,title:t,imagesSpec_236x:n})=>({details:i,slotId:e,imageSignature:a,title:t,imageSizeMap:{"236x":{width:n?.width,height:n?.height,url:n?.url}}})):[],color:i,imageSpec:"236x",index:ec,onError:U,onLoad:H}):(0,Z.jsx)(c.Z,{_fixCompletedOnLoad:eK,alt:_||ea||t||"",color:i,fetchPriority:$?"high":"auto",fit:N?"cover":void 0,loading:M?"lazy":"auto",naturalHeight:m.height??1,naturalWidth:m.width??1,onError:U,onLoad:H,src:m.url??""}),eW=(0,r.TH)(),{scope:eY}=(0,r.UO)(),eq=()=>(0,h.C$)(eW)?"homefeed":(0,h.L6)(eW)?"related_pins":(0,h.En)(eW)?"search":"unknown",e$=()=>(0,h.C$)(eW)?92:(0,h.L6)(eW)?140:(0,h.En)(eW)?(0,b._R)((0,b.oD)(eY)):void 0,eQ=l.includes("enabled"),eX=eQ?!X&&!!ek?.isSaved(q):a.board?.layout==="quick_saves",eJ=eQ?eb&&(ew||eX):eb&&ew,{storyPinData:e0}=a,e1=(()=>{if(e0){let e=e0.pages;if(e&&e.length>0){let i=e&&e[0].blocks;if(i&&i.length>0){let e=i[0];if(3===e.blockType&&e.video&&e.video.videoList&&e.video.videoList.vHLSV3MOBILE)return{entityId:e.video.entityId,height:e.video.videoList.vHLSV3MOBILE.height??void 0,thumbnail:e.video.videoList.vHLSV3MOBILE.thumbnail??void 0,width:e.video.videoList.vHLSV3MOBILE.width??void 0,url:e.video.videoList.vHLSV3MOBILE.url??void 0}}}}return null})(),e3=a?.videos?.videoList?.vHLSV4||a?.videos?.videoList?.vHLSV3MOBILE||e1;if(eS&&e3&&ed){let e={fallback:eG,isExperimentalPinRep:!1,isHovering:ey,onError:U,onLoad:H,pinKey:ed,viewType:el,viewParameter:ep,...e1?{video:e1}:{}};em=(0,Z.jsx)(B,{...e})}else em=N?(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,Z.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,position:"absolute",right:!0,top:!0,children:eG})}):eG;return(0,Z.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,Z.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},"data-test-id":`pincard-${et}-${eI}`,onContextMenu:e=>{let i=e$();"desktop"!==eP&&(eb&&eC({action:"click",item:"pin-feed"}),(!eb||i&&eb)&&(e.preventDefault(),e.stopPropagation()))},onMouseLeave:eT?void 0:()=>ef(!1),onMouseOver:eT||eh("prevent_open_on_hover").anyEnabled?void 0:()=>ef(!0),onTouchEnd:e=>{if("desktop"!==eP){let i=eq(),a=Date.now()-eE.current>500,t=eA.current;if(e.changedTouches&&e.changedTouches.length>0&&t){let n=e.changedTouches[0],l=eH({x:n.pageX,y:n.pageY},t),r=Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2);if(!eN||l!==V&&l!==G||a||ev||(e.preventDefault(),e.stopPropagation(),eB(l)),n&&r>100)return;a&&!eb&&"related_pins"===i?(Q?.(),eg({pinId:q,location:"related-pins-long-press"}),e.stopPropagation()):a&&eb&&(e$()&&(Q?.(),eo?.(!0),e.stopPropagation()),ej({event_type:103,view_parameter:e$()}))}}},onTouchStart:e=>{if("desktop"!==eP){ex(!1);let i=e$();if(eb||eC({action:"click",item:"pin-image",within:"related-pins"}),(!eb||i&&eb)&&Q?.(),eE.current=Date.now(),e.changedTouches&&e.changedTouches.length>0){let i=e.changedTouches[0];i&&(eA.current={x:i.pageX,y:i.pageY})}}},overflow:"hidden",position:"relative",rounding:ee?0:4,children:[(0,Z.jsxs)(w.Z,{clientTrackingParams:e||"",directSaveExpGroup:l,isBoardIdeas:R,isOneTapExploreLocalTab:F,nodeId:a.__id,oneTapSave:z,pinId:q,pinnedToBoardId:X,viewType:el,children:[(()=>{if("gif"===et&&!ew)return(0,Z.jsx)(L.Z,{text:e_._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===et&&en&&!ew)return(0,Z.jsx)(L.Z,{text:en});if("storyPin"===et&&ei&&!ew&&!1!==eD){let e=a.storyPinData?.staticPageCount||0,i=a.storyPinData?.totalVideoDuration||0;if(!(0===i&&e<=1)){let a=i+e*y.oN;return(0,Z.jsx)(L.Z,{text:(0,u.Z)(a)})}}if(eO&&ei&&!ew&&!1!==eD&&es){let e=a.storyPinData?.staticPageCount||0,i=a.storyPinData?.totalVideoDuration||0;if(i>0){let a=i+e*y.oN;return(0,Z.jsx)(L.Z,{text:(0,u.Z)(a)})}}return"product"===et&&J?(0,Z.jsx)(L.Z,{text:J}):null})(),(0,Z.jsx)(Y,{disableRounding:ee,margin:f?W({width:m.width??1,height:m.height??1,minY:f.minY,maxY:f.maxY}):void 0,type:et,children:em})]}),ey&&!eb&&(0,Z.jsx)(D.Z,{domainLinkData:s,hoveringInFeed:eZ,pinGraphqlRef:a&&a?.__fragments?.PinCardUnauthHoverOverlay_pin?a:null,pinId:q,viewParameter:ep}),eJ&&(0,Z.jsx)(C.Z,{boardName:a.board?.name??"",boardUrl:a.board?.url??"",directSaveExpGroup:l,isQuicksave:eX,sectionName:z?.section?.title,sectionSlug:z?.section?.slug})]}),eV]})},$=(0,m.Z)({useGraphQLAdapter:e=>{let i=(0,l.useFragment)(H,e);return{pin:i,childDataKey__DEPRECATED:{type:"graphqlRef",data:i}}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{let a=(0,F.S6)()(e),t=(0,R.gC)();if(!a)return null;let n=t(i||String(a.board?.id));return{pin:{__id:a.node_id??"",entityId:a.id??"",board:n?{layout:n.layout??null,name:n.name??null,url:n.url??null}:null,shouldOpenInStream:a.should_open_in_stream??null,storyPinData:a.story_pin_data?{staticPageCount:a.story_pin_data.static_page_count||null,totalVideoDuration:a.story_pin_data.total_video_duration||null,pages:a.story_pin_data.pages?a.story_pin_data.pages.map(e=>({blocks:e.blocks?e.blocks.map(e=>({blockType:e.block_type||null,video:e.video?{entityId:e.video?.id||null,videoList:e.video?.video_list?{vHLSV3MOBILE:e.video?.video_list?.V_HLSV3_MOBILE?{height:e.video?.video_list?.V_HLSV3_MOBILE?.height||null,thumbnail:e.video?.video_list?.V_HLSV3_MOBILE?.thumbnail||null,width:e.video?.video_list?.V_HLSV3_MOBILE?.width||null,url:e.video?.video_list?.V_HLSV3_MOBILE?.url||null}:null}:null}:null})):null})):null}:null,videos:a.videos?{entityId:a.videos.id??"",videoList:a.videos.video_list?{vHLSV4:a.videos.video_list.V_HLSV4?{__typename:"VideoDetail"}:null,vHLSV3MOBILE:a.videos.video_list.V_HLSV3_MOBILE?{__typename:"VideoDetail"}:null}:null}:null,carouselData:a&&a.carousel_data?{index:a.carousel_data?.index??null,entityId:a.carousel_data?.id||a.id,carouselSlots:a.carousel_data?.carousel_slots?.map(e=>({slotId:e.id??null,details:e.details??null,imageSignature:e.image_signature??null,title:e.title??null,imagesSpec_236x:e.images?.["236x"]?{height:e.images["236x"].height??null,url:e.images["236x"].url??null,width:e.images["236x"].width??null}:null}))}:null,isEligibleForPdp:a.is_eligible_for_pdp??null,..._.tx},childDataKey__DEPRECATED:{type:"deprecated",data:a}}}}),Q=e=>(0,Z.jsx)($,{input:e.pinGraphqlRef?{kind:"GraphQL",data:e.pinGraphqlRef}:{kind:"Legacy",data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,Z.jsx)(q,{...e,childDataKey__DEPRECATED:i.childDataKey__DEPRECATED,data:i.pin})})},499538:(e,i,a)=>{a.r(i),a.d(i,{default:()=>io});var t,n,l,r,s,o,d=a(667294),u=a(545007),c=a(167912),p=a(616550),m=a(883119),_=a(654716),g=a(263032),h=a(587703),y=a(419075),f=a(877457),v=a(510989),x=a(200201),b=a(333739),P=a(140017),S=a(339001),k=a(422210),w=a(899394),I=a(391884),T=a(180593),E=a(567344),A=a(340523),C=a(178093),D=a(737244),L=a(5859),R=a(608516),F=a(945172),j=a(217058),O=a(623409),N=a(546213),M=a(554786),K=a(494125),Z=a(194602),U=a(676012),z=a(237040),B=a(233731),H=a(939809),V=a(61714),G=a(638365),W=a(323294),Y=a(344278),q=a(736079),$=a(205841),Q=a(96157),X=a(490166),J=a(761203),ee=a(439025),ei=a(89856),ea=a(785893);let et=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:a,price:t},domain:n},lineClamp:l,onlyShowCurrentPrice:r})=>(0,ea.jsxs)(d.Fragment,{children:[n&&(0,ea.jsx)(m.xv,{color:"default",lineClamp:l,size:"100",children:n}),(0,ea.jsx)(m.xu,{alignItems:"center","data-test-id":"priceLego_price",display:"flex",children:(0,ea.jsx)(ee.Z,{currentPrice:(0,ei.Z)({maxPrice:e,minPrice:i,price:t}),onlyShowCurrentPrice:r,originalPrice:a,textSize:"100"})})]}),en=void 0!==t?t:t=a(147094);function el({lineClamp:e,onlyShowCurrentPrice:i,pinKey:a}){let{data:t}=(0,b.sr)(en,a,{type:"pin",useLegacyAdapter:e=>({linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))}})});if(!t)return null;let n=(0,W.kb)({hasLinkDomain:!!t.linkDomain,richMetadata:t.richMetadata&&{recipe:t.richMetadata.recipe&&{fromAggregatedData:t.richMetadata.recipe.fromAggregatedData},products:(t.richMetadata.products??[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:t.richSummary&&{products:(t.richSummary.products??[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});return n&&n.price?(0,ea.jsx)(et,{data:{pinProduct:n,domain:t.richSummary?.siteName},lineClamp:e,onlyShowCurrentPrice:i}):null}var er=a(517545),es=a(811768);let eo=void 0!==n?n:n=a(106289),ed=(0,d.lazy)(()=>a.e(59127).then(a.bind(a,659127))),eu=({title:e,lineClamp:i=2})=>{let a=(0,M.HG)(),t=(0,O.Z)();return(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-title",children:(0,ea.jsx)(m.iP,{onTap:()=>{t({action:"click",item:"related-pins-title"})},children:(0,ea.jsx)(m.xv,{lineClamp:i,size:a?"200":"100",weight:"bold",children:e})})})},ec=(e,i,a,t)=>{let n=t._('Ad', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),l=t._('Promoted', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),r=t._('Sponsored', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.');return e&&a?e.startsWith("enabled_ad_label")?n:e.startsWith("enabled_promoted_label")?l:e.startsWith("enabled_sponsored_label")?r:l:i},ep=({credits:e,data:i,hasAffiliatedProducts:a,hidePinMetadata:t,isPromotedPin:n,isSponsoredPin:l,logCreditsClick:r,marginTop:s,pinDescription:o,pinGraphqlRef:u,pinId:c,pinnedToBoardId:_,showPriceIndicatorInPinCardDetails:g,title:h,type:y})=>{let f=(0,P.ZP)(),v=(0,p.TH)(),x=(0,O.Z)(),{isAuthenticated:b}=(0,L.B)(),S=(0,M.HG)(),k=(0,p.k6)(),w=h||o||"oneTap"===y,{pinner:I}=i,T=(0,J.gC)()(_||String(i.board?.entityId)),E=n&&i.promoter?.entityId===i.nativeCreator?.entityId,C=!g,{checkExperiment:D}=(0,A.F)(),{group:R}=D("simpler_ad_attribution");return(0,ea.jsxs)(m.xu,{flex:"grow",children:[(0,ea.jsx)(m.xu,{display:"flex",marginTop:t?0:s??1,children:(0,ea.jsxs)(m.xu,{flex:"grow",children:[h&&(0,ea.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},marginTop:1,overflow:"hidden",children:!t&&(0,ea.jsx)(eu,{title:h})}),g&&(0,ea.jsx)(el,{pinKey:u?{type:"graphqlRef",data:u}:{type:"deprecated",data:c}})]})}),C&&e?(0,ea.jsx)(X.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&k.push(e.link),r()},pressState:"none",children:(0,ea.jsx)(m.xu,{children:(!t||l||E)&&(0,ea.jsx)(m.xu,{direction:"row",display:"flex",marginBottom:t?2:0,marginTop:0,position:"relative",children:(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",children:(0,ea.jsx)(m.iP,{onTap:()=>{x({action:"click",item:"related-pins-name"})},children:(0,ea.jsxs)(d.Fragment,{children:[(!l&&!t||E)&&(0,ea.jsx)(m.xu,{marginTop:0,children:(0,ea.jsx)(m.xv,{lineClamp:l||a?void 0:1,size:S?"200":"100",weight:S?"bold":"normal",children:e.subtitle})}),e.title&&(0,ea.jsx)(m.xu,{marginTop:1,children:(0,ea.jsx)(m.xv,{color:"subtle",lineClamp:1,size:"100",weight:"normal",children:ec(R,e.title,n,f)})})]})})})})})}):S&&!!I&&((0,Q.L6)(v)||(0,Q.cD)(v)||(0,Q.$Y)(v))&&(0,ea.jsx)(m.xu,{display:"flex",marginTop:w?2:0,children:(0,ea.jsxs)(m.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",children:[(0,ea.jsx)(m.rU,{href:`/${I.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_board"),x({action:"click",item:"related-pins-name"})},underline:"hover",children:(0,ea.jsx)(m.xv,{size:b?"200":"100",weight:"bold",children:I.fullName||I.username})}),T&&"protected"!==T.privacy?(0,ea.jsx)(m.xu,{"data-test-id":"related-pin-text-below-name",children:(0,ea.jsx)(m.rU,{href:T.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),x({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,ea.jsx)(m.xv,{size:"200",children:T.name??""})})}):null]})})]})},em=({componentType:e,credits:i,data:a,hasAffiliatedProducts:t,hidePinMetadata:n,isPromotedPin:l,isSponsoredPin:r,logCreditsClick:s,marginTop:o,pinDescription:u,pinGraphqlRef:c,pinId:_,pinnedToBoardId:g,pinReactionCounts:h,recipeReview:y,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:S,viewType:k})=>{let w=(0,P.ZP)(),I=(0,p.TH)(),T=(0,O.Z)(),{isAuthenticated:E}=(0,L.B)(),A=(0,M.HG)(),C=(0,p.k6)(),D=b||u||"oneTap"===S,{pinner:F}=a,N=(0,J.gC)()(g||String(a.board?.entityId)),K=l&&a.promoter?.entityId===a.nativeCreator?.entityId,Z=3===k&&14339===e,U=!E&&(0,Q.am)(I),z=!n&&!U,B=(z||r||K)&&!U,H=(r||t)&&!K&&!U,V=!E&&A?2:o||(D&&z?0:1),G=!x;return(0,ea.jsxs)(m.xu,{flex:"grow",children:[(0,ea.jsx)(m.xu,{display:"flex",marginTop:z?o??1:0,children:(0,ea.jsxs)(m.xu,{flex:"grow",children:[H&&(0,ea.jsx)(m.xu,{marginBottom:1,children:(0,ea.jsx)(m.xu,{flex:"grow",overflow:"hidden",children:(0,ea.jsx)(er.Z,{hasAffiliatedProducts:t,isPromoted:l,sponsorName:a.sponsorship?(0,ea.jsx)(m.xv,{inline:!0,size:"100",weight:"bold",children:i?.subtitle}):void 0,sponsorshipStatus:a.sponsorship?.status})})}),b&&(z||U)&&(0,ea.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},marginTop:1,overflow:"hidden",children:(0,ea.jsx)(eu,{lineClamp:Z?1:void 0,title:b})}),A&&!E&&u&&!(0,Q.$Y)(I)&&!(0,Q.E0)(I)&&(0,ea.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",marginTop:1,overflow:"hidden",children:(0,ea.jsx)(m.iP,{onTap:()=>{T({action:"click",item:"related-pins-description"})},children:(0,ea.jsx)(m.xv,{inline:!0,size:A?"200":"100",children:u})})}),x&&(0,ea.jsx)(el,{lineClamp:Z?1:void 0,onlyShowCurrentPrice:Z,pinKey:c?{type:"graphqlRef",data:c}:{type:"deprecated",data:_}}),y]})}),f&&h&&Object.keys(h).length>0&&(0,ea.jsx)(m.xu,{display:void 0,height:18,justifyContent:"center",children:(0,ea.jsx)(v.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,ea.jsx)(R.Z,{children:(0,ea.jsx)(ed,{pinReactionCounts:h})})})}),G&&i?(0,ea.jsx)(X.Z,{onTouch:e=>{e.stopPropagation(),e.preventDefault(),i.link&&C.push(i.link),s()},pressState:"none",children:(0,ea.jsx)(m.xu,{children:B&&(0,ea.jsxs)(m.xu,{"data-test-id":"pin-attribution",direction:"row",display:"flex",marginBottom:z?0:2,marginTop:V,position:"relative",children:[(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-avatar-image",display:void 0,flex:"none",justifyContent:"center",children:(0,ea.jsx)(m.iP,{onTap:()=>{T({action:"click",item:"related-pins-avatar-image"})},children:(0,ea.jsx)($.qE,{accessibilityLabel:i.title||i.subtitle||w._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:i.title||"",outline:!1,size:"sm",src:i.avatar||void 0})})}),(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:(0,ea.jsx)(m.iP,{onTap:()=>{T({action:"click",item:"related-pins-name"})},children:(0,ea.jsxs)(d.Fragment,{children:[i.title&&(0,ea.jsx)(m.xv,{lineClamp:1,size:"100",weight:r&&!K||t?"normal":"bold",children:i.title===F?.fullName&&(F?.isVerifiedMerchant||F?.verifiedIdentity?.verified)?(0,ea.jsx)(es.Z,{badgeSize:"sm",badgeSpacing:2,fullName:i.title,verifiedType:F.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):i.title}),i.subtitle?(!r&&z||K)&&(0,ea.jsx)(m.xv,{lineClamp:r||t?void 0:1,size:A?"200":"100",weight:A?"bold":"normal",children:i.subtitle}):!E&&N&&"protected"!==N.privacy?(0,ea.jsx)(m.xu,{"data-test-id":"related-pin-text-below-name",children:(0,ea.jsx)(m.rU,{href:E?N.url??"":N.url?.toLowerCase()??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),T({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,ea.jsx)(m.xv,{size:"200",children:N.name})})}):null]})})})]})})}):A&&!!F&&((0,Q.L6)(I)||(0,Q.cD)(I)||(0,Q.$Y)(I))&&(0,ea.jsxs)(m.xu,{display:"flex",marginTop:2,children:[(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-avatar-image",flex:"none",children:(0,ea.jsx)(m.iP,{onTap:()=>{T({action:"click",item:"related-pins-avatar-image"})},children:(0,ea.jsx)($.qE,{name:`/${E?F.username||"":F.username?.toLowerCase()||""}/`,size:"sm",src:F.imageSmallUrl??void 0})})}),(0,ea.jsxs)(m.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,ea.jsx)(m.rU,{href:`/${E?F.username||"":F.username?.toLowerCase()||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_board"),T({action:"click",item:"related-pins-name"})},underline:"hover",children:(0,ea.jsx)(m.xv,{size:E?"200":"100",weight:"bold",children:F.fullName||F.username})}),N&&"protected"!==N.privacy?(0,ea.jsx)(m.xu,{"data-test-id":"related-pin-text-below-name",children:(0,ea.jsx)(m.rU,{href:E?N.url??"":N.url?.toLowerCase()??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),T({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,ea.jsx)(m.xv,{size:"200",children:N.name??""})})}):null]})]})]})},e_=e=>{let{pinId:i,isPromotedPin:a,pinGraphqlRef:t}=e,{data:n,childDataKey__DEPRECATED:l}=(0,b.sr)(eo,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status},adData:e.ad_data&&{excludeFromGridRepTests:e.ad_data.exclude_from_grid_rep_tests}})}),{checkExperiment:r}=(0,A.F)(),{anyEnabled:s}=r("simpler_ad_attribution"),o=n?.adData?.excludeFromGridRepTests;return s&&a&&!o?n&&(0,ea.jsx)(ep,{...e,data:n,pinGraphqlRef:"graphqlRef"===l.type?l.data:null}):n&&(0,ea.jsx)(em,{...e,data:n,pinGraphqlRef:"graphqlRef"===l.type?l.data:null})};var eg=a(251843),eh=a(207890);let ey=void 0!==l?l:l=a(343141),ef=(e,i)=>{let a=(0,c.useRelayEnvironment)();return(0,ea.jsx)(eh.t,{invite_code:e,inviteQuery:ey,relayEnvironment:a,children:e=>{let a=e?.data?e.data.sender:null,t=a&&a.first_name?a.first_name.substring(0,30):"";if(!t)return null;let n=a&&!a.is_default_image?a.image_medium_url:"",l=(0,S.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,ea.jsxs)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,ea.jsx)(m.zd,{height:32,width:32,children:(0,ea.jsx)($.qE,{name:t,src:n})}),(0,ea.jsx)(m.xu,{paddingY:2,width:"80%",children:(0,ea.jsx)(m.xv,{align:"center",size:"200",weight:"bold",children:l})})]})}})},ev=(e,i)=>(0,ea.jsx)(eh.Z,{invite_code:e,children:e=>{let a=e?e.sender:null,t=a&&a.first_name?a.first_name.substring(0,30):"";if(!t)return null;let n=a&&!a.is_default_image?a.image_medium_url:"",l=(0,S.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,ea.jsxs)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,ea.jsx)(m.zd,{height:32,width:32,children:(0,ea.jsx)($.qE,{name:t,src:n})}),(0,ea.jsx)(m.xu,{paddingY:2,width:"80%",children:(0,ea.jsx)(m.xv,{align:"center",size:"200",weight:"bold",children:l})})]})}}),ex=(e,i)=>{let{checkExperiment:a}=(0,A.F)();return a("graphql_migration_sharelink_sgrowth_web").anyEnabled?ef(e,i):ev(e,i)},eb=({inviteCode:e})=>{let i=(0,P.ZP)();return(0,ea.jsx)(m.xu,{minHeight:82,children:(0,ea.jsx)(v.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,ea.jsx)(R.Z,{fallback:(0,ea.jsx)(eg.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:ex(e,i)})})})};var eP=a(908544),eS=a(510972);let ek={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ew=(e,i,a)=>(0,ea.jsx)(m.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,ea.jsx)(m.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:a})},e);function eI({color:e,getFeedbackText:i,margin:a,onUnfollow:t,showing:n,unfollowed:l}){let r=(0,P.ZP)(),[s,o]=(0,d.useState)(n?"fadeIn":"initial"),u=(0,d.useRef)(null),c=(0,h.Z)();(0,d.useEffect)(()=>("initial"===s&&n&&(u.current=window.requestAnimationFrame(()=>o("fadeIn"))),()=>{u.current&&window.cancelAnimationFrame(u.current)}),[s,o,n]);let{subTitle:p,title:_,unfollow:g}=i(ew),y=_,f=p;return g&&l&&(y=g.title,f=g.subTitle),n&&(0,ea.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ek[s]}},left:!0,margin:a,position:"absolute",right:!0,rounding:4,top:!0,children:(0,ea.jsx)(m.xu,{color:"dark",height:"100%",overflow:"auto",rounding:4,width:"100%",children:(0,ea.jsxs)(m.xu,{"data-test-id":"reported-overlay",direction:"column",display:"flex",height:"100%",justifyContent:"between",padding:3,rounding:2,children:[(0,ea.jsxs)(m.xu,{children:[(0,ea.jsx)(m.X6,{color:"light",size:"400",children:y}),!!f&&(0,ea.jsxs)(m.xu,{marginTop:1,children:[(0,ea.jsx)(m.xv,{color:"light",inline:!0,size:"200",children:f}),(0,ea.jsx)(m.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,ea.jsx)(m.rU,{display:"block",href:"/edit",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!l&&g&&(0,ea.jsx)(m.xu,{paddingY:1,children:(0,ea.jsx)(m.zx,{color:"white",fullWidth:!0,onClick:()=>g?(0,eS.t)(g.action,g.actionOptions,t,c):void 0,text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')})})]})})})}var eT=a(477455),eE=a(454514),eA=a(13848),eC=a(579240),eD=a(410391),eL=a(256918),eR=a(511918);function eF(e){let i=(0,P.ZP)(),{pinId:a,nodeId:t,clientTrackingParams:n,directSaveExpGroup:l}=e,r=(0,eL.M)(),s=(0,p.k6)(),{showToast:o}=(0,eA.F9)(),d=(0,u.v9)(e=>e.pins[a]&&e.pins[a].savedInfo),c=!!r?.isSaved(a)||d,_=(0,u.I0)(),g=l.includes("uselabel"),h=async e=>{if(e.stopPropagation(),e.preventDefault(),c){if(d){_((0,eC.k)({boardId:d.boardId,localPinId:d.localPinId,pinId:a,nodeId:t})),r?.unsave(a);try{await _((0,eD.q)({pinId:d.localPinId||"",boardId:d.boardId,clientTrackingParams:n})),o(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{onHide:e,text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin')}))}catch(e){o(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{onHide:e,text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),type:"error"}))}}}else s.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0,from:s.location}})},y=c?(0,ea.jsx)(m.xv,{size:"100",weight:"bold",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,ea.jsx)(m.xv,{size:"100",weight:"bold",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return g?(0,ea.jsx)(m.iP,{onTap:({event:e})=>{h(e)},rounding:"circle",children:(0,ea.jsx)(m.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,ea.jsx)(m.xu,{children:y})})}):(0,ea.jsx)(m.hU,{accessibilityLabel:c?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),icon:c?"check":(0,eR.f)(),iconColor:"darkGray",onClick:({event:e})=>{h(e)},padding:1,size:"sm"})}var ej=a(453652),eO=a(686769);function eN({maxRating:e,rating:i,text:a}){return(0,ea.jsxs)(m.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,ea.jsx)(eO.Z,{max_rating:e||"",rating:i||""}),a&&(0,ea.jsx)(d.Fragment,{children:(0,ea.jsx)(m.xu,{marginStart:1,overflow:"hidden",children:(0,ea.jsx)(m.xv,{lineClamp:1,size:"100",children:a})})})]})}var eM=a(884141),eK=a(736423),eZ=a(189093),eU=a(79589),ez=a(695238),eB=a(149722),eH=a(443171);let eV=void 0!==r?r:r=a(786958),eG=({isSquarePin:e,price:i,shouldDisplayMerchant:a})=>{if(i&&e)return a?90:68},eW=({maxPrice:e,minPrice:i,price:a})=>e&&i?`${i}-${e}`:a;function eY({dedupeVisualAnnotations:e,description:i,domain:a,graphqlRef:t,gridTitle:n,isSquarePin:l,pinId:r,priceSummary:s,richMetadataTitle:o,richSummaryDisplayName:u,storyPinDataId:c,storyPinDataMetadataPinTitle:p,title:_}){let g=(0,M.ZP)(),h=(0,eU.Z)(),{checkExperiment:y}=(0,A.F)(),f=s&&(s.standardPrice||eW(s)),v=s&&(s.price||eW(s)),x=v||f,b=(0,eB.Z)(),P=!(b&&b.isAuth)&&y("mweb_shopping_module_unauth_exp",{dangerouslySkipActivation:!0}).anyEnabled,S=(0,d.useMemo)(()=>P?1:l?2:x?3:2,[P,l,x]),k=(0,O.Z)();if(!r)return null;let w=(0,E.fs)({pinTitle:_,gridTitle:n,richSummaryDisplayName:u,richMetadataTitle:o,storyPinDataId:c,storyPinDataMetadataPinTitle:p})||i,I=`/pin/${r}/`;return(0,ea.jsx)(m.xu,{direction:"column",display:"flex",height:eG({isSquarePin:l,price:x}),marginBottom:-1,marginTop:2,paddingX:2,children:(0,ea.jsxs)(m.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,ea.jsx)(m.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,ea.jsxs)(B.MZ,{accessibilityLabel:w,deeplinkUri:I,to:I,children:[x&&(0,ea.jsx)(m.iP,{dataTestId:"product-price",onTap:()=>k({action:"click",item:"product-price"}),children:(0,ea.jsx)(ee.Z,{currentPrice:v,onlyShowCurrentPrice:!h,originalPrice:f,textSize:"100",weight:"bold"})}),(0,ea.jsx)(m.xu,{marginTop:1,children:(0,ea.jsx)(m.iP,{dataTestId:"product-title",onTap:()=>k({action:"click",item:"product-title"}),children:(0,ea.jsx)(m.xv,{lineClamp:S,size:"100",weight:"bold",children:w})})}),a&&x&&(0,ea.jsx)(m.xu,{marginTop:1,children:(0,ea.jsx)(m.iP,{dataTestId:"product-merchant",onTap:()=>k({action:"click",item:"product-merchant"}),children:(0,ea.jsx)(m.xv,{lineClamp:1,size:"100",children:a})})})]})}),"desktop"!==g&&(0,ea.jsx)(m.xu,{children:(0,ea.jsx)(eH.default,{dedupeVisualAnnotations:e,graphqlRef:t,pinId:r,size:"sm"})})]})})}let eq=(0,ez.Z)({useGraphQLAdapter:({queryRef:e})=>(0,c.useFragment)(eV,e),useLegacyAdapter:()=>null});function e$({queryRef:e,...i}){return(0,ea.jsx)(eq,{input:e?{kind:"GraphQL",data:{queryRef:e}}:{kind:"Legacy",data:{pinId:i.pinId}},children:({data:e})=>(0,ea.jsx)(eY,{...i,graphqlRef:e})})}var eQ=a(422578),eX=a(207012),eJ=a(10630),e0=a(953565),e1=a(118923),e3=a(832853);let e6=(0,d.lazy)(()=>Promise.all([a.e(87348),a.e(44168)]).then(a.bind(a,700198))),e2=void 0!==o?o:o=a(443890);function e4(){let e=(0,z.Yg)();return(0,K.Z)(()=>{e?.("related_pin_impression_nested")}),null}let e5=e=>!!(e.promoter&&!e.isDownstreamPromotion),e7=e=>{let{attribution:i,embed:a,isEligibleForWebCloseup:t,richSummary:n,videos:l,storyPinDataId:r}=e,s=a||i?.embed;return t?"oneTap":l||s?.type==="video"?"video":s?.type==="gif"?"gif":n?.typeName==="product"?"product":n?.typeName==="recipe"?"recipe":r?"storyPin":"image"},e8=e=>{let{adDestinationUrl:i,link:a,domain:t}=e;return[i,a,t]},e9=e=>{let i=e.videos?.videoList??null,a=i?Object.keys(i).length-1:0;return i&&Object.keys(i).length>0?(0,y.Z)(i[Object.keys(i)[a]]?.duration??0):""},ie=e=>{let[i]=e.richSummary?.products||[];if(!i)return null;let{offerSummary:a}=i;return a&&(a.price||a.maxPrice)},ii=e=>e&&e.includes("/user/default")?void 0:e,ia=(0,d.lazy)(()=>Promise.all([a.e(61547),a.e(28986),a.e(66150),a.e(54262),a.e(17729)]).then(a.bind(a,61295))),it=(0,e3.Z)(()=>Promise.all([a.e(61547),a.e(28986),a.e(66150),a.e(54262),a.e(17729)]).then(a.bind(a,61295)),{ssr:!1}),il=e=>(0,e1.b)()?(0,ea.jsx)(it,{...e}):(0,ea.jsx)(R.Z,{children:(0,ea.jsx)(ia,{...e})});function ir({auxData:e,componentType:i,debugInfo:a,disableAppUpsell:t,disableReaction:n,disableRounding:l,duploConversationPin:r,duploDedupeVisualAnnotations:s,duploDisablePinCardPadding:o,duploFeedItemProps:c,duploIsSquarePin:y,duploLazyLoadImage:b,duploOneTapSave:N,duploPinCardDetailsMargin:z,duploPriorityFetchImage:$,duploQueryRef:Q,duploShouldAddNiiSearchParamToImageUrls:X,duploShouldAllowProductPriceIndicator:J,duploShouldTrackPinEvents:ee,feedback:ei,imageOnlyOption:et,impressionData:en,objectIdStr:el,pin:er,slotIndex:es,topLevelTrafficSource:eo,topLevelTrafficSourceDepth:ed,trackingParams:eu,trafficSource:ec,viewData:ep,viewParameter:em,viewType:eg}){let eh;let ey=(0,P.ZP)(),ef=(0,f.g)(),ev=(0,p.TH)(),ex=(0,M.HG)(),eS=(0,q.Z)(),ek=(0,C.yz)(),ew=(0,x._)({id:1000107}),eE=(0,h.Z)(),eA=(0,O.Z)(),{country:eC,isAuthenticated:eD,isBot:eL,isSocialBot:eR}=(0,L.B)(),{viewedSharedPins:eO}=(0,u.v9)(({session:e})=>e),eU=(0,u.v9)(({experiences:e})=>{let i=e[1000107];return!!i&&500678===i.experience_id}),ez=(0,u.v9)(({session:e,users:i})=>(0,k.Z)(i[e.userId].created_at)),{getPinFeedbackStatus:eB,setPinFeedbackStatus:eH}=(0,eT.K)(),[eV,eG]=(0,d.useState)(!1),[eW,eY]=(0,d.useState)(!1),[eq,eQ]=(0,d.useState)(!1),[eX,e1]=(0,d.useState)(er.carouselData?.index??0),e3=(0,d.useRef)(null),e2=(0,Z.Z)(),ia=er.entityId,{isEligibleForStaticImageIdeaPin:it}=(0,_.Z)(er.shouldOpenInStream,er.storyPinDataId),ir=e=>X&&e?{...e,url:e.url&&(0,F.H5)(e.url)}:e,is=ir(er.imageSpec_136x136),io=ir(er.imageSpec_170x),id=ir(er.imageSpec_236x),iu=ir(er.imageSpec_474x),ic=ir(er.imageSpec_736x),ip=ir(er.imageSpec_orig),im={...[["136x136",is],["170x",io],["236x",id],["474x",iu],["736x",ic],["orig",ip]].reduce((e,[i,a])=>(a&&(e[i]={dominant_color:a.dominantColor??void 0,height:a.height??void 0,url:a.url??void 0,width:a.width??void 0}),e),{})},{checkExperiment:i_}=(0,A.F)(),ig=Object.keys(im).reduce((e,i)=>i&&im[i]?.url?{...e,[i]:im[i].url}:e,{}),ih=e=>(0,I.Z)({embedSrc:er.embed?.src,embedType:er.embed?.type,imagesUrls:ig,preferredResolution:e,excludeOriginals:!eL&&!eR}),iy=e7(er),iv=(0,U.z)();(0,K.Z)(()=>{if(iv&&!ex&&"image"===iy){let e=im["236x"]||im["136x136"],i=ih("736x");if(i){let a={pin:{dominantColor:er.dominantColor,link:er.link,mobileLink:er.mobileLink,richMetadata:er.richMetadata&&{__typename:"RichPinDataView",article:er.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:er.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:er.richMetadata.products?.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:er.trackedLink},derived:{homefeedRecommendationReason:92===em&&er.recommendationReason?{reason:er.recommendationReason.reason,reasonId:er.recommendationReason.reasonId}:null,imageUrl:i,placeholder:e&&{width:e.width,height:e.height,url:e.url}}};iv.setData(ia,a)}}}),(0,K.Z)(()=>{if(!eD&&0===es&&3070===em){let e=ev.pathname,{imageSignature:i,entityId:a,imageSpec_236x:t,description:n}=er;(0,Y.H$)(e,i,a,t&&{dominant_color:t.dominantColor??void 0,height:t.height??void 0,url:t.url,width:t.width??void 0},n)}});let ix=92===em&&(eO&&eO[ia])?.inviteCode,ib=y?{height:136,url:id?.url,width:136}:[id,io,is,ic,iu,ip].find(e=>e&&e.url)||{width:1,height:1,url:""},iP=er.videos?.videoList?.v720P,iS=(0,V.Z)({isEligibleForPdp:er.isEligibleForPdp,isOosProduct:er.isOosProduct,isStaleProduct:er.isStaleProduct,pinShoppingFlags:er.shoppingFlags??void 0}),ik=()=>{let a=(0,G.Z)(eu,er.trackingParams);if(eE({view_type:eg,view_parameter:em,element:er.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ia,clientTrackingParams:a,aux_data:{commerce_data:iS,grid_index:es,image_signature:er.imageSignature,...e}}),"oneTap"!==iy&&eE({event_type:8948,view_type:eg,view_parameter:em,object_id_str:ia,clientTrackingParams:a,aux_data:{image_signature:er.imageSignature,commerce_data:iS,closeup_navigation_type:"click",grid_index:es,cosmic_ray_count:"3",...e}}),!eD)switch(eA({action:"click",item:"pin"}),eg){case 3:(0,j.NC)("click_pin_related_image");break;case 5:(0,j.NC)("click_board_pin_image");break;case 210:(0,j.NC)("click_topic_pin_image");break;case 605:(0,j.NC)("click_shopping_category_pin_image");break;case 606:(0,j.NC)("click_videos_category_pin_image")}"oneTap"===iy&&(eE({event_type:8948,view_type:eg,view_parameter:em,object_id_str:ia,clientTrackingParams:a,aux_data:{image_signature:er.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),eE({event_type:12,view_type:eg,view_parameter:em,element:er.storyPinDataId?12372:35,component:i,object_id_str:ia,aux_data:{commerce_data:iS,grid_index:es,image_signature:er.imageSignature,...e,is_promoted:e5(er)},clientTrackingParams:a}),eE({component:i,event_type:13,view_type:3,clientTrackingParams:a,aux_data:{closeup_navigation_type:"web_closeup",image_signature:er.imageSignature},object_id_str:ia}))},iw=eB({pinId:ia}),iI=e5(er),iT=()=>{let e=({user:e,linkToBoard:i})=>({link:i?er.board?.url||`/pin/${er.entityId}/`:e?.username&&`/${e.username}/`||"",avatar:ii(e?.imageMediumUrl)||ii(e?.imageSmallUrl)});if(e5(er))return er.sponsorship&&er.promoter?.entityId!==er.nativeCreator?.entityId?{title:er.nativeCreator?.fullName,subtitle:er.promoter?.fullName,...e({user:er.nativeCreator})}:{title:ey._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:er.promoter?.fullName,...e({user:er.promoter})};if(er.sponsorship?.creator)return{title:er.nativeCreator?.fullName,subtitle:er.sponsorship.sponsor?.fullName,...e({user:er.nativeCreator})};if(!er.isEligibleForPdp){if(er.nativeCreator)return{title:er.nativeCreator.fullName,subtitle:"",...e({user:er.nativeCreator})};switch(em){case 3375:if(!er.linkDomain?.officialUser?.isPrimaryWebsiteVerified)return;let i=er.storyPinData?.hasProductPins?er.nativeCreator:er.linkDomain.officialUser;return{title:"",subtitle:i?.fullName,...e({user:i})};case 0:case 3173:return er.storyPinData?.hasProductPins?{title:"",subtitle:er.nativeCreator?.fullName,...e({user:er.nativeCreator,linkToBoard:!0})}:{title:er.board&&"protected"===er.board.privacy?ey._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):er.pinner?.fullName||"",subtitle:"",...e({user:er.pinner,linkToBoard:!0})};default:return}}},iE=(0,w.hP)({boardFollowedByMe:!!er.board?.followedByMe,feedbackType:ei?.type,viewParameter:em,promotion:er&&er.promoter&&{isDownstreamPromotion:!!er.isDownstreamPromotion},pinnerFollowedByMe:!!er.pinner?.explicitlyFollowedByMe,recommendationReason:er.recommendationReason&&{hasBoard:!!er.recommendationReason.board,reason:er.recommendationReason.reason??void 0}}),iA=e=>{let i={i18n:ey,makeNavigateLink:e};switch(iE){case"pfy":return(0,w.Ud)({...i,feedback:{type:"pfy"}});case"pfyBoard":return(0,w.Ud)({...i,feedback:{type:"pfyBoard",recommendationReasonBoard:er.recommendationReason?.board&&{name:er.recommendationReason.board.name??"",url:er.recommendationReason.board.url??""}}});case"topic":return(0,w.Ud)({...i,feedback:{type:"topic",sourceInterest:er.sourceInterest&&er.sourceInterest.name&&er.sourceInterest.urlName?{name:er.sourceInterest.name,url_name:er.sourceInterest.urlName}:null}});case"followed":return(0,w.Ud)({...i,feedback:{type:"followed",followed:er.pinner&&er.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:er.pinner.fullName&&er.pinner.username?{full_name:er.pinner.fullName,username:er.pinner.username}:null}:{type:"board",board:er.board&&er.board.name&&er.board.url?{name:er.board.name,url:er.board.url}:null}}});case"promoted":return(0,w.Ud)({...i,feedback:{type:"promoted",promoter:!er.adMatchReason&&er.promoter&&er.promoter.fullName?{full_name:er.promoter.fullName,username:er.promoter.username}:null}});default:return null}},{attributionSourceId:iC,category:iD,linkDomain:iL,description:iR,gridTitle:iF,imageSignature:ij,richMetadata:iO,richSummary:iN,title:iM,sponsorship:iK,storyPinData:iZ,carouselData:iU}=er,[iz,iB]="string"==typeof iF?[iF,""]:[iN?.displayName,iR],iH=null;i_("ads_show_carousel_on_mweb").anyEnabled&&iU&&iU.carouselSlots&&((eh=iU.carouselSlots[eX]).link&&"oneTap"===iy&&(iH=eh.link),eh.title&&(iz=eh.title),eh.details&&(iB=eh.details));let iV=iZ?.isDeleted,iG=(0,G.Z)((ev&&ev.state||{}).trackingParams||eu,er.trackingParams),iW="product"===iy&&!eD,iY=eU&&!(iN&&43===em&&!ez||3375===em),iq=er.pinJoin?.visualAnnotation;s&&iq&&(iq=s({pinId:ia,visualAnnotations:iq}));let i$=(0,E.rw)(er.description??"",er.descriptionHtml||"",iq,er.altText||"",er.autoAltText||""),iQ=eD?iB:(0,T.Z)({storyPinDataId:er.storyPinDataId,pinDescription:er.description,richMetadataDescription:er.richMetadata?.description??"",richSummaryDisplayName:er.richSummary?.displayName??"",closeupDescription:er.closeupDescription??"",closeupUnifiedDescription:er.closeupUnifiedDescription??""});null===iH&&(iH="oneTap"===iy?er.trackedLink||er.link:eD?(0,E.BY)(ia):(0,E.bN)({pinId:ia,seoUrl:er.seoUrl}));let iX=null;if(!e2&&iI&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))try{let e=(0,g.m_)(iC??"0",e8(er),!0,er.campaignId,er.advertiserId);iX=`attributionsrc=${encodeURIComponent(e)}`}catch(e){(0,e0.nP)("webapp.arapi.click.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message}})}let iJ={accessibilityLabel:i$||iz||iB||ey._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:eC,deeplinkUri:iH,external:"oneTap"===iy,externalQueryParams:{pin:ia,client_tracking_params:eu},features:iX,isAppUpsellDisabled:t,onTouch:e=>{if(ik(),c?.onPinClick?.(),ex){let i=494===eg;if(e.metaKey||i)(0,j.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(em)}`),e.preventDefault(),window.open(`/pin/${ia}/`,"_blank").focus();else if(!eD&&ef){let{pinImageClickHandler:i}=ef;i({event:e,pinId:ia,linkTarget:"duploClientNav",seoUrl:er.seoUrl})}}else eD||(0,j.My)("unauth_mweb_pin_rep.click",{viewType:eg})},pinCategory:er.category,pressState:"none",rounding:4,title:ey._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:iH,state:{trackingParams:eu,trafficSource:ec,topLevelTrafficSource:eo,topLevelTrafficSourceDepth:ed}},upsellType:"direct",viewParameter:em,viewType:eg,clientTrackingParams:iG},i0=(0,W.kb)({hasLinkDomain:!!iL,richMetadata:iO&&{recipe:iO.recipe&&{fromAggregatedData:iO.recipe.fromAggregatedData},products:iO.products?.map(({__typename:e,...i})=>i)},richSummary:iN&&{products:iN.products}}),i1=14339===i,i3=!J&&("shop_feed"===ec||i1),i6=(0,u.v9)(({session:e})=>e.unauthSavePinId),i2=eD&&!!i6&&i6===ia,i4=!eD||i2||N?"":i_("mweb_direct_save_from_grid_v2").group||i_("mweb_direct_save_from_grid_v2_new_user").group||"",i5=i4.includes("footer"),i7=o?0:(0,ej.Z)({isDesktop:ex}),i8=(e,i)=>e&&!i&&i_("closeup_unauth_remove_reactions_grid_dweb").anyEnabled||i&&i_("closeup_auth_remove_reactions_grid_mweb").anyEnabled;return(0,ea.jsx)(H.dL,{auxData:{commerce_data:iS,pwa_type:ek,...e},component:i,duploShouldTrackPinEvents:ee,impressionData:{richTypes:er.shoppingFlags||[],imageURL:ib.url||"",isPromoted:e5(er),attributionSourceId:er.attributionSourceId,link:er.link,campaignId:er.campaignId,advertiserId:er.advertiserId,adDestinationUrl:er.adDestinationUrl,domain:er.domain,...iP?{isNativeVideoAndWatchable:!!iP&&!!iP.url&&!!iP.height&&!!iP.width||void 0,videoIdStr:iP&&er.videos?.entityId||void 0}:{},...en},isPaused:!eV,loggingId:er.entityId,objectIdStr:el,slotIndex:es,trackingParams:eu,viewData:ep,viewParameter:em,viewType:eg,children:({impressionTrackerRef:e})=>(0,ea.jsxs)(m.xu,{ref:e,children:[ee&&(0,ea.jsx)(e4,{}),(0,ea.jsxs)(m.xu,{"data-test-id":"pin","data-test-pin-id":ia,marginBottom:ex?0:2,position:"relative",children:[(0,ea.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:eW?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},"data-test-id":i$||iz||iB?"pin-with-alt-text":"pin-missing-alt-text",marginBottom:0,onContextMenu:ex&&(er.nativeCreator||er.pinner)?e=>{e.stopPropagation(),e.preventDefault(),eS((0,ea.jsx)(R.Z,{children:(0,ea.jsx)(e6,{desktopContextMenuState:{x:e.clientX,y:e.clientY},graphqlRef:Q,pinId:ia})})),(0,j.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,padding:i7,children:[(0,ea.jsxs)(B.MZ,{...iJ,children:[!!ix&&(0,ea.jsx)(eb,{inviteCode:ix}),iV?(0,ea.jsx)(eZ.default,{isPinRep:!0}):(0,ea.jsx)(eP.ZP,{carouselIndex:eX,clientTrackingParams:iG,color:er.dominantColor??"",description:iB&&(!iY||0===em)?iB.trim():void 0,directSaveExpGroup:i4,disableDefaultContextMenu:()=>eY(!0),disableRounding:l,domainLinkData:er.domain&&er.link?{clickLoggingOptions:{auxData:{objectId:ia,grid_index:es,sanitized_url:er.link}},domain:er.domain,link:er.link,onClick:c?.onPinLinkClick}:void 0,image:ib&&{dominant_color:ib.dominantColor??void 0,height:ib.height??void 0,url:ib.url??void 0,width:ib.width??void 0},imageAltText:i$,imageCrop:!y&&er.imageCrop&&"number"==typeof er.imageCrop.minY&&"number"==typeof er.imageCrop.maxY?{minY:er.imageCrop.minY,maxY:er.imageCrop.maxY}:void 0,isBoardIdeas:3173===em||13184===i,isPromotedPin:iI,isSquarePin:y,lazyLoadImage:b,onError:()=>eG(!1),oneTapSave:N,onLoad:()=>eG(!0),pinGraphqlRef:Q,pinId:ia,pinnedToBoardId:er.pinnedToBoard?.entityId??"",priorityFetchImage:$,productPrice:"product"===iy&&J&&!iW?ie(er):null,setCarouselIndex:e1,setIsLongPressEnabledForAuth:eQ,slotIndex:es,storyDataExists:!!iZ,title:iY&&0!==em?void 0:iz,type:iy,videoDuration:e9(er),viewParameter:em,viewType:eg})]}),"image-only"!==et&&(eD||ex)&&(0,ea.jsxs)(m.xu,{marginBottom:1,marginTop:1,children:[!eD&&ex&&3475!==em&&43!==em&&(0,ea.jsx)(eJ.ZP,{dedupeVisualAnnotations:s,graphqlRef:Q,mode:"inlineWithScrollArrows",pinId:ia}),!iW&&(0,ea.jsxs)(m.xu,{position:"relative",children:[(0,ea.jsx)(B.MZ,{...iJ,children:(0,ea.jsx)(m.xu,{ref:e3,bottom:!0,left:!0,position:"absolute",right:!0,top:!0})}),(0,ea.jsx)(m.iP,{accessibilityLabel:iJ.accessibilityLabel,onTap:()=>{e3.current?.click()},children:(0,ea.jsxs)(m.xu,{display:"flex",height:y?i3?104:72:void 0,marginEnd:z||1,marginStart:z||1,marginTop:i4.includes("enabled")?1:0,position:"relative",children:[(0,ea.jsx)(e_,{componentType:i,credits:iT(),hasAffiliatedProducts:!!iZ?.hasProductPins,hidePinMetadata:ew?.display_data.hideDesc||!1,isPromotedPin:iI,isSponsoredPin:!!iK,logCreditsClick:()=>eE({view_type:3,element:27,event_type:102,object_id_str:ia,component:er.storyPinDataId?230:void 0,clientTrackingParams:(0,G.Z)(eu,er.trackingParams),aux_data:{pin_id:ia,...er.sponsorship?.creator&&er.sponsorship.sponsor?{creator_id:er.sponsorship.creator.entityId,sponsor_id:er.sponsorship.sponsor.entityId}:{}}}),marginTop:z,pinDescription:iQ,pinGraphqlRef:Q,pinId:ia,pinnedToBoardId:er.pinnedToBoard?.entityId??"",pinReactionCounts:er.reactionCountsData?.reduce((e,{reactionCount:i,reactionType:a})=>({...e,[String(a??0)]:i??0}),{}),recipeReview:"recipe"===iy&&!iY&&!!iN?.aggregateRating?.reviewCount&&(0,ea.jsxs)(m.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,ea.jsx)(eN,{maxRating:iN.aggregateRating.bestRating||"",rating:iN.aggregateRating.ratingValue||"",text:""}),!!iN.displayCookTime&&(0,ea.jsxs)(d.Fragment,{children:[(0,ea.jsx)(m.xu,{paddingX:1,children:(0,ea.jsx)(m.xv,{size:"100",children:""})}),(0,ea.jsx)(m.xv,{size:"100",children:function({m:e,h:i,rm:a,rh:t,i18n:n}){return e&&(!i||t<=0)?(0,S.nk)(n._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:a.toString()}):i?(0,S.nk)(n._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null}({...(0,D.u)(iN.displayCookTime),i18n:ey})})]})]}),shouldShowReactions:!n&&(0,eM.J6)({boardIsCollaborative:er.board?.isCollaborative,isDownstreamPromotion:er.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:it,isPromoted:er.isPromoted,storyPinDataId:er.storyPinDataId,videosId:er.videos?.entityId})&&3475!==em&&606!==eg&&!(ew&&ew.display_data.hideReactions)&&!i8(ex,eD),showPriceIndicatorInPinCardDetails:i3,title:iz,type:iy,viewType:eg}),(0,ea.jsxs)(m.xu,{display:"flex",right:!0,children:[!eD||iV||r?null:(0,ea.jsx)(m.xu,{marginStart:1,marginTop:z,children:(0,ea.jsx)(m.xu,{height:26,width:24,children:(0,ea.jsx)(v.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,ea.jsx)(il,{adMatchReason:er.adMatchReason,bestPinImgSrc:ih(),feedback:ei,feedbackType:iE,getRecommendationDescription:iA,graphqlRef:Q,hideSaveOption:er.promotedIsRemovable??!1,imageSignature:ij??void 0,isAdsOnlyPin:er.promotedIsRemovable??!1,isLongPressEnabledForAuth:eq,pinCategory:iD,pinDescription:iQ,pinId:ia,pinTitle:iM,setIsLongPressEnabledForAuth:eQ,sourceType:iI?"ad":0===em?"following":void 0,trackingParams:eu||iG,viewParameter:em,viewType:eg})})})}),i5?(0,ea.jsx)(m.xu,{right:!0,children:(0,ea.jsx)(m.xu,{children:(0,ea.jsx)(eF,{clientTrackingParams:iG,directSaveExpGroup:i4,nodeId:er.__id,pinId:ia})})}):null]})]})})]})]}),iW&&(0,ea.jsx)(e$,{dedupeVisualAnnotations:s,description:er.description,domain:er.richSummary?.siteName,gridTitle:er.gridTitle??void 0,isSquarePin:y,pinId:ia,priceSummary:i0&&{maxPrice:i0.maxPrice,minPrice:i0.minPrice,price:i0.price,standardPrice:i0.standardPrice},queryRef:Q,richMetadataTitle:er.richMetadata?.title,richSummaryDisplayName:er.richSummary?.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:er.storyPinData?.metadata?.pinTitle,title:er.title})]}),"reported"===iw?(0,ea.jsx)(eI,{color:er.dominantColor??"",getFeedbackText:()=>({title:ey._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:ey._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ia,showing:!0}):(0,ea.jsx)(eI,{color:er.dominantColor??"",getFeedbackText:e=>{let i;let{promoter:a}=er;if(e5(er)&&a?.fullName)return{title:"",subTitle:(0,S.nk)(ey._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:a.fullName})};switch(iE){case"followed":let{board:t,pinner:n}=er;t&&n&&(i=(0,w.oK)({boardId:t.entityId,i18n:ey,makeNavigateLink:e,display:n.explicitlyFollowedByMe?{type:"board",data:{name:t.name,url:t.url}}:{type:"pinner",data:{full_name:n.fullName,username:n.username}}}));break;case"topic":let{sourceInterest:l}=er;l&&(i=(0,w.Iv)({i18n:ey,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return i?{title:ey._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:iA(e),unfollow:i}:{title:ey._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:ey._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},margin:i7,onUnfollow:()=>eH({pinId:ia,pinFeedbackStatus:"unfollowed"}),pinId:ia,showing:!!iw,unfollowed:"unfollowed"===iw,viewParameter:em,viewType:eg}),!ex&&c?.showSeoMetadata&&!iW&&(0,ea.jsx)(m.xu,{"data-test-id":"related-pins-title",children:(0,ea.jsx)(m.iP,{fullWidth:!1,onTap:()=>{eA({action:"click",item:"related-pins-title"})},children:(0,ea.jsx)(eK.Z,{dedupeVisualAnnotations:s,description:er.description,gridTitle:er.gridTitle??void 0,pinId:ia,queryRef:Q,richMetadataTitle:er.richMetadata?.title,richSummaryDisplayName:er.richSummary?.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:er.storyPinData?.metadata?.pinTitle,title:er.title})})}),a]})]})})}let is=e=>{let i=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},a=e=>e?{dominantColor:e.dominant_color??null,height:e.height??null,url:e.url??null,width:e.width??null}:null,t=e.reaction_counts;return{adMatchReason:e.ad_match_reason??null,adDestinationUrl:e.ad_destination_url??null,advertiserId:e.advertiser_id??null,altText:e.alt_text??null,attribution:e.attribution?{embed:e.attribution.embed?{type:e.attribution.embed.type??null}:null}:null,attributionSourceId:e.attribution_source_id??null,autoAltText:e.auto_alt_text??null,board:e.board?{entityId:e.board.id??"",followedByMe:e.board.followed_by_me??null,isCollaborative:e.board.is_collaborative??null,name:e.board.name??null,privacy:e.board.privacy??null,url:e.board.url??null}:null,campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category??null,closeupDescription:e.closeup_description??null,closeupUnifiedDescription:e.closeup_unified_description??null,debug:e.debug,descriptionHtml:e.description_html??null,description:e.description??null,domain:e.domain??null,dominantColor:e.dominant_color??null,embed:e.embed?{height:e.embed.height??null,src:e.embed.src??null,type:e.embed.type??null,width:e.embed.width??null}:null,entityId:e.id,__id:e.node_id??"",gridTitle:e.grid_title??null,imageCrop:e.image_crop?{minY:e.image_crop.min_y??null,maxY:e.image_crop.max_y??null}:null,imageSignature:e.image_signature??null,imageSpec_136x136:a(e.images?.["136x136"]),imageSpec_170x:a(e.images?.["170x"]),imageSpec_236x:a(e.images?.["236x"]),imageSpec_474x:a(e.images?.["474x"]),imageSpec_736x:a(e.images?.["736x"]),imageSpec_orig:a(e.images?.orig),isDownstreamPromotion:e.is_downstream_promotion??null,isEligibleForPdp:e.is_eligible_for_pdp??null,isEligibleForWebCloseup:e.is_eligible_for_web_closeup??null,isOosProduct:e.is_oos_product??null,isPromoted:e.is_promoted??null,isStaleProduct:e.is_stale_product??null,linkDomain:e.link_domain?{officialUser:e.link_domain.official_user?{fullName:e.link_domain.official_user.full_name??null,entityId:e.link_domain.official_user.id??"",imageMediumUrl:e.link_domain.official_user.image_medium_url??null,imageSmallUrl:e.link_domain.official_user.image_small_url??null,username:e.link_domain.official_user.username??null,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified??null}:null}:null,link:e.link??null,mobileLink:e.mobile_link??null,nativeCreator:i(e.native_creator)??null,pinnedToBoard:e.pinned_to_board?{entityId:e.pinned_to_board.id??""}:null,pinJoin:e.pin_join?{visualAnnotation:e.pin_join.visual_annotation??null}:null,pinner:e.pinner?{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me??null,fullName:e.pinner.full_name??null,imageMediumUrl:e.pinner.image_medium_url??null,imageSmallUrl:e.pinner.image_small_url??null,username:e.pinner.username??null}:null,promoter:i(e.promoter),promotedIsRemovable:e.promoted_is_removable??null,reactionCountsData:t?Object.keys(t).map(e=>({reactionType:Number(e),reactionCount:t[e]})):null,richMetadata:e.rich_metadata?{description:e.rich_metadata.description??null,title:e.rich_metadata.title??null,article:e.rich_metadata.article?{__typename:"ArticleMetadata"}:null,recipe:e.rich_metadata.recipe?{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data??null}:null,products:e.rich_metadata.products?e.rich_metadata.products.map(e=>({__typename:"RichPinProductMetadata",name:e.name??null,offerSummary:{maxPrice:e.offer_summary?.max_price??null,minPrice:e.offer_summary?.min_price??null,price:e.offer_summary?.price??null,standardPrice:e.offer_summary?.standard_price??null}})):null}:null,richSummary:e.rich_summary?{aggregateRating:e.rich_summary.aggregate_rating?{bestRating:e.rich_summary.aggregate_rating.best_rating??null,ratingValue:e.rich_summary.aggregate_rating.rating_value??null,reviewCount:e.rich_summary.aggregate_rating.review_count??null}:null,displayName:e.rich_summary.display_name??null,displayCookTime:e.rich_summary.display_cook_time??null,siteName:e.rich_summary.site_name??null,typeName:e.rich_summary.type_name??null,products:e.rich_summary.products?e.rich_summary.products.map(e=>({name:e.name??null,offerSummary:{maxPrice:e.offer_summary?.max_price??null,minPrice:e.offer_summary?.min_price??null,price:e.offer_summary?.price??null,standardPrice:e.offer_summary?.standard_price??null}})):null}:null,seoUrl:e.seo_url??null,shoppingFlags:e.shopping_flags??null,shouldOpenInStream:e.should_open_in_stream??null,sourceInterest:e.source_interest?{entityId:e.source_interest.id??"",name:e.source_interest.name??null,urlName:e.source_interest.url_name??null}:null,sponsorship:e.sponsorship?{creator:e.sponsorship.creator?{entityId:e.sponsorship.creator.id??"",fullName:e.sponsorship.creator.full_name??null,imageMediumUrl:e.sponsorship.creator.image_medium_url??null,imageSmallUrl:e.sponsorship.creator.image_small_url??null,username:e.sponsorship.creator.username??null}:null,sponsor:e.sponsorship.sponsor?{entityId:e.sponsorship.sponsor.id??"",fullName:e.sponsorship.sponsor.full_name??null,imageMediumUrl:e.sponsorship.sponsor.image_medium_url??null,imageSmallUrl:e.sponsorship.sponsor.image_small_url??null,username:e.sponsorship.sponsor.username??null}:null}:null,storyPinDataId:e.story_pin_data_id??null,storyPinData:e.story_pin_data?{hasProductPins:e.story_pin_data.has_product_pins??null,isDeleted:e.story_pin_data.is_deleted??null,metadata:e.story_pin_data.metadata?{pinTitle:e.story_pin_data.metadata.pin_title??null}:null}:null,title:e.title??null,trackedLink:e.tracked_link??null,trackingParams:e.tracking_params??null,videos:e.videos?{entityId:e.videos.id??"",videoList:e.videos.video_list?{v720P:e.videos.video_list.V_720P?{duration:e.videos.video_list.V_720P.duration??null,height:e.videos.video_list.V_720P.height??null,width:e.videos.video_list.V_720P.width??null,url:e.videos.video_list.V_720P.url??null}:null,vHLSv4:e.videos.video_list.V_HLSV4?{duration:e.videos.video_list.V_HLSV4.duration??null,height:e.videos.video_list.V_HLSV4.height??null,width:e.videos.video_list.V_HLSV4.width??null,url:e.videos.video_list.V_HLSV4.url??null}:null}:null}:null,recommendationReason:e.recommendation_reason?{reason:e.recommendation_reason.reason??null,reasonId:e.recommendation_reason.reason_id??null,board:e.recommendation_reason.board?{name:e.recommendation_reason.board.name??null,url:e.recommendation_reason.board.url??null}:null}:null,carouselData:e.carousel_data?{index:e.carousel_data.index??null,carouselSlots:e.carousel_data.carousel_slots?e.carousel_data.carousel_slots.map(e=>({title:e.title??null,details:e.details??null,link:e.link??null})):[]}:null}};function io({pinId:e,duploQueryRef:i,...t}){let n=(0,N.Qy)(),{data:l,childDataKey__DEPRECATED:r}=(0,b.sr)(e2,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:is});return!function(e){let i=(0,eX.Z)(void 0!==s?s:s=a(640713),e),t=i?.__id,n=i?.entityId,l=(0,eQ.useRelayEnvironment)();(0,d.useEffect)(()=>{null!=n&&null!=t&&(0,eQ.commitLocalUpdate)(l,e=>{let i=`client:root:v3GetPinQuery(pin:"${n}")`;if(!e.get(i)){let a=e.get(t),l=e.create(i,"V3GetPin");null!=a&&(l.setLinkedRecord(a,"data"),e.getRoot().setLinkedRecord(l,"v3GetPinQuery",{pin:n}))}})},[t,n,l])}(l??null),!!l&&(0,ea.jsx)(ir,{...t,debugInfo:n&&l.debug&&(0,ea.jsx)(N.Wu,{data:l.debug}),duploQueryRef:"graphqlRef"===r.type?r.data:null,pin:l})}},761203:(e,i,a)=>{a.d(i,{bn:()=>s,fJ:()=>d,gC:()=>o});var t=a(545007),n=a(342513),l=a(785893);let{Provider:r,useHook:s}=(0,n.Z)("Boards");function o(){let e=s();return i=>e[i]}function d({children:e}){let i=(0,t.v9)(({boards:e})=>e,t.wU);return(0,l.jsx)(r,{value:i,children:e})}},386008:(e,i,a)=>{a.d(i,{Tt:()=>c,cm:()=>u,kW:()=>o,kY:()=>p,mN:()=>d});var t=a(545007),n=a(342513),l=a(149722),r=a(785893);let{Provider:s,useHook:o}=(0,n.Z)("Users");function d(){let e=o();return i=>e[i]}function u(){let e=o();return(i,a=!1)=>{let t=Object.keys(e).find(a=>e[a].username===i);if(t||!a)return e[t??""]}}function c(){let{id:e}=(0,l.Z)();return o()[e??""]}function p({children:e}){let i=(0,t.v9)(({users:e})=>e,t.wU);return(0,r.jsx)(s,{value:i,children:e})}},443171:(e,i,a)=>{a.r(i),a.d(i,{default:()=>T});var t,n=a(667294),l=a(545007),r=a(167912),s=a(883119),o=a(980536),d=a(140017),u=a(5859),c=a(757640),p=a(608516),m=a(623409),_=a(163471),g=a(554786),h=a(696534),y=a(930837),f=a(119936),v=a(785893);function x({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:a,children:t}){let n=(0,d.ZP)(),l=(0,g.HG)(),r=(0,g.Wb)();return r||l?(0,v.jsx)(y.ZP,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:e&&!r,mobileHideCloseIcon:!0,mobileIsFullscreen:!0,onDismiss:()=>{},children:(0,v.jsx)(s.xu,{color:(0,h.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,h.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:l?"100vw":"100%",zIndex:new s.Ry(1),children:(0,v.jsx)(s.xu,{bottom:!0,left:!0,marginTop:a?0:12,overflow:"scroll",padding:5,position:"fixed",right:!0,top:!0,children:t})})}):(0,v.jsx)(f.default,{accessibilityModalLabel:n._('Close', 'Close modal window', 'Close modal window'),isOpen:i,mobileAccessibilityCloseIconLabel:n._('Close', 'Close modal window', 'Close modal window'),onDismiss:()=>{},children:t})}let b=(0,n.lazy)(()=>a.e(99631).then(a.bind(a,499631))),P=void 0!==t?t:t=a(564684);function S({dedupeVisualAnnotations:e,iconColor:i,size:a,isMainPin:t,isAuth:r,pinCreditPrefix:c,onClickTitleOrDomain:h,pinId:y,renderOnlyHiddenSEOContent:f=!1,graphqlRef:P,shoppingKlpUrls:S}){let k=(0,d.ZP)(),w=(0,m.Z)(),{isBot:I}=(0,u.B)(),{unauthInterstitialDismissed:T}=(0,l.v9)(({session:e})=>e),[E,A]=(0,n.useState)(!1),C=(0,g.HG)(),D=(0,g.Wb)(),L=(0,_.Z)(),R=!D&&!r,F=P?{type:"graphqlRef",data:P}:{type:"deprecated",data:y},j=(0,v.jsxs)(s.xu,{dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,padding:5,children:[(0,v.jsx)(s.xu,{color:"default","data-test-id":"close-seo-vase-see-more-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,v.jsx)(s.hU,{accessibilityLabel:k._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",iconColor:"gray",onClick:()=>{w({action:"dismiss",item:"close-see-more-button",within:"seo-vase"}),A(!1),t&&w({action:"click",item:"see-more-main-pin-button",within:"seo-vase"})},size:"sm"})}),(0,v.jsx)(s.xu,{marginBottom:R?0:8,children:(0,v.jsx)(s.xv,{align:R?"start":"center",size:"400",weight:R?void 0:"bold",children:R?null:k._('More information', 'more information label', 'more information label')})}),(0,v.jsx)(p.Z,{children:(0,v.jsx)(b,{dedupeVisualAnnotations:e,onClickTitleOrDomain:h,pinCreditPrefix:c,pinId:y,pinKey:F,shoppingKlpUrls:S})})]});return f?(0,v.jsx)(s.xu,{display:"none",children:j}):(0,v.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{float:"right"}},"data-test-id":"SeoVaseSeeMoreButton",right:!0,children:[(0,v.jsx)(s.hU,{accessibilityLabel:k._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:i??"gray",onClick:({event:i})=>{i.stopPropagation(),t?w({action:"click",item:"see-more-main-pin-button",within:"seo-vase"}):w({action:"click",item:"see-more-related-pin-button",within:"seo-vase"}),D||r?(A(!0),t&&w({action:"click",item:"see-more-main-pin-button",within:"seo-vase"})):L({pinId:y||"",location:t?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(p.Z,{children:(0,v.jsx)(b,{dedupeVisualAnnotations:e,onClickTitleOrDomain:h,pinCreditPrefix:c,pinId:y,pinKey:F,shoppingKlpUrls:S})})})},size:a||"md"}),I&&!C?(0,v.jsx)(s.xu,{display:E?"flex":"none",children:j}):(0,v.jsx)(x,{interstitialUpsellDismissed:!!T,isOpen:E&&!D,showFullScreenInfo:E,children:j}),D&&E&&(0,v.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:j})]})}function k(e){let i=(0,r.useFragment)(P,e.graphqlRef);return(0,v.jsx)(S,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,graphqlRef:i,iconColor:e.iconColor,isAuth:e.isAuth,isMainPin:e.isMainPin,onClickTitleOrDomain:e.onClickTitleOrDomain,pinCreditPrefix:e.pinCreditPrefix,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls,size:e.size})}function w(e){return(0,v.jsx)(S,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,isAuth:e.isAuth,isMainPin:e.isMainPin,onClickTitleOrDomain:e.onClickTitleOrDomain,pinCreditPrefix:e.pinCreditPrefix,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls,size:e.size})}function I(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(w,{...e})}function T(e){return e.graphqlRef?(0,v.jsx)(k,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(I,{...e}):(0,v.jsx)(w,{...e})}},736423:(e,i,a)=>{a.d(i,{Z:()=>u});var t,n=a(167912),l=a(883119),r=a(567344),s=a(443171),o=a(785893);let d=void 0!==t?t:t=a(168266);function u({dedupeVisualAnnotations:e,description:i,gridTitle:a,pinId:t,richMetadataTitle:u,richSummaryDisplayName:c,storyPinDataId:p,storyPinDataMetadataPinTitle:m,title:_,queryRef:g}){let h=(0,n.useFragment)(d,g);return(0,o.jsxs)(l.xu,{display:"flex",marginBottom:-1,paddingX:2,children:[(0,o.jsx)(l.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,o.jsx)(l.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,r.fs)({pinTitle:_,gridTitle:a,richSummaryDisplayName:c,richMetadataTitle:u,storyPinDataId:p,storyPinDataMetadataPinTitle:m})||i})}),(0,o.jsx)(l.xu,{children:(0,o.jsx)(s.default,{dedupeVisualAnnotations:e,graphqlRef:h,pinId:t,size:"sm"})})]})}},517545:(e,i,a)=>{a.d(i,{Z:()=>d,j:()=>o});var t=a(883119),n=a(140017),l=a(339001),r=a(340523),s=a(785893);let o=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:a,sponsorshipStatus:d,textColor:u}){let c;let p=(0,n.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return i?c=(0,l.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:a}):d||0===d?a&&!o.includes(d)?c=(0,l.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:a}):2!==d&&(c=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(c=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,s.jsxs)(t.xv,{color:u,size:"100",children:[m&&!i&&"Ad  "||"",(0,s.jsx)(l.r7,{text:c})]})}},776998:(e,i,a)=>{a.d(i,{Z:()=>H});var t,n=a(667294),l=a(545007),r=a(616550),s=a(883119),o=a(587703),d=a(454514),u=a(140017),c=a(340523),p=a(5859),m=a(217058),_=a(13848),g=a(624797),h=a(554786),y=a(494125),f=a(237040),v=a(559510),x=a(739382),b=a(358589);a(167912);var P=a(25919),S=a(190971),k=a(207012),w=a(623409),I=a(870526),T=a(233731),E=a(222910),A=a(170568),C=a(386008),D=a(615806),L=a(256918),R=a(785893);let F=new s.Ry(1),j=void 0!==t?t:t=a(131615);function O({buttonText:e,clientTrackingParams:i,color:a="primary",deeplinkUri:t,experience:p,inline:m=!0,minWidth:_,onTouch:g,onUnsave:h,pinId:y,pinKey:f,pinnedToBoardId:v,shape:O,shouldShowSavedButton:N,viewType:M,viewParameter:K,showSaveHandoffExperience:Z}){let U=(0,u.ZP)(),z=(0,l.I0)(),B=(0,r.k6)(),H=(0,r.TH)(),V=(0,L.M)(),G=H.pathname.startsWith("/pin"),W=(0,l.v9)(({session:e})=>e.hasSavedUnauthPin),Y=(0,l.v9)(({session:e})=>e.unauthSavePinId),q=C.Tt()?.pin_count,$=(0,o.Z)(),Q=(0,w.Z)(),{checkExperiment:X}=(0,c.F)(),J=(0,P.be)(),ee=(0,S.c)(),ei=e=>B.push(e),{showToast:ea,showRepinConfirmation:et}=(0,E.Z)(),en=(0,k.Z)(j,f),el=()=>{z((0,D.Z)({checkExperiment:X,history:B,i18n:U,logContextEvent:$,onSuccess:()=>{p&&z(J(p.placement_id,p.experience_id)),ee("Save",{pin_id:y,is_promoted:en?.isPromoted})},originalPinId:y,pinId:y,trackingParams:{clientTrackingParams:i,pinnedToBoardId:v},showRepinConfirmation:Z&&!G?()=>void 0:et,disableRepinAnimation:Y===y,pinCount:q,historyPush:ei,savePinId:V?.save??(()=>{})})).catch(e=>ea(({hideToast:i})=>(0,R.jsx)(d.ZP,{onHide:i,text:e.message||U._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),type:"error"})))},er=(0,n.useRef)(null),es=Z&&!W,eo=(0,b.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),g&&g(e),N?N&&h&&h():el()},modalHeader:(0,x.Bx)(U)});(0,n.useEffect)(()=>{es&&!er.current&&(Q({action:"trigger",item:"unauth-save-button-quicksave"}),$({event_type:14581}),el(),z((0,A.e2)())),er.current=es});let ed=()=>U._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),eu=()=>e||U._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return W&&!G?null:(0,R.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:F,children:t?(0,R.jsx)(T.di,{accessibilityLabel:ed(),color:a,customStyles:{padding:"14px 16px"},deeplinkUri:t,inline:m,minHeight:48,minWidth:_,onTouch:eo,pressState:["compress","background"],shape:O,size:"lg",text:eu(),to:B.location.pathname,upsellType:"save",viewParameter:K,viewType:M}):(0,R.jsx)(I.Z,{accessibilityLabel:ed(),color:a,customStyles:{padding:"14px 16px"},inline:m,minHeight:48,minWidth:_,onTouch:eo,pressState:"compress",shape:O,size:"300",text:eu()})})}var N=a(579240),M=a(410391),K=a(984869),Z=a(511918);function U(e,i,a){var t;return(i="symbol"==typeof(t=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,i||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?t:String(t))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}class z extends n.PureComponent{constructor(...e){super(...e),U(this,"state",{saveState:void 0}),U(this,"legoFixedZIndex",new s.Ry(2)),U(this,"onAddPin",async()=>{let{clientTrackingParams:e,checkExperiment:i,dispatch:a,i18n:t,oneTapSave:n,pinId:l,nodeId:r,pinnedToBoardId:s,showToast:o,viewType:u,historyPush:c,repinContext:p}=this.props;try{let t=await a((0,K.w)({checkExperiment:i,i18n:this.props.i18n,logContextEvent:this.props.logContextEvent,originalPinId:l,pinId:l,boardId:n?.boardId,isOneTapSave:!0,section:n?.section,showToast:o,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:u,historyPush:c,savePinId:p?.save??(()=>{})}));this.setState({saveState:"saved"}),a((0,N.a)({boardId:n?.boardId,localPinId:t.id,pinId:l,nodeId:r}))}catch(e){o(({hideToast:i})=>(0,R.jsx)(d.ZP,{onHide:i,text:e.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"})),this.setState({saveState:void 0})}}),U(this,"onDeletePin",async()=>{let{dispatch:e,clientTrackingParams:i,i18n:a,pinId:t,nodeId:n,savedInfo:l,showToast:r,repinContext:s}=this.props;if(l){e((0,N.k)({boardId:l.boardId,localPinId:l.localPinId,pinId:t,nodeId:n})),s?.unsave(t);try{await e((0,M.q)({pinId:l.localPinId,boardId:l.boardId,clientTrackingParams:i})),r(({hideToast:e})=>(0,R.jsx)(d.ZP,{onHide:e,text:a._('Pin deleted!', 'User deleted their pin', 'User deleted their pin')})),this.setState({saveState:void 0})}catch(e){r(({hideToast:e})=>(0,R.jsx)(d.ZP,{onHide:e,text:a._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),type:"error"})),this.setState({saveState:"saved"})}}}),U(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();let{saveState:i}=this.state,{history:a,pinId:t,isOneTapExploreLocalTab:n,pinnedToBoard:l,directSaveExpGroup:r,oneTapSave:s}=this.props,o=r.includes("overlay");["saving","deleting"].includes(i)||n&&l||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),n||!s&&o?a.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0,from:a.location}}):this.onAddPin()))},modalHeader:(0,x.Bx)(this.props.i18n)})),U(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:a})=>e?!!i:!!a)}render(){let{children:e,clientTrackingParams:i,directSaveExpGroup:a,homepageExperience:t,i18n:l,isBoardIdeas:r,isOneTapExploreLocalTab:o,isRTL:d,oneTapSave:u,pinId:c,pinnedToBoard:p,pinnedToBoardId:m,savedInfo:_,shouldShowSaveHandoffExp:g}=this.props,h=a.includes("overlay");if(!u&&!o&&!g&&!h)return e;let y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!o,pinnedToBoard:p,savedInfo:_}),f={saved:"#000",unsaved:"rgba(255, 255, 255, 0.8)",savedText:"light",unsavedText:"dark"},v=y?(0,R.jsx)(s.xv,{color:"light",weight:"bold",children:l._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,R.jsx)(s.xv,{color:"dark",weight:"bold",children:l._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')}),x=null,b=a.includes("uselabel");return g?x=(0,R.jsx)(O,{buttonText:p?l._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:p?"default":"primary",deeplinkUri:"deeplinkUri",experience:t,inline:!0,minWidth:54,pinId:c,pinnedToBoardId:m,shape:"pill",shouldShowSavedButton:!!p,showSaveHandoffExperience:g}):u?x=(0,R.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,R.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?f.saved:f.unsaved}},paddingX:2,paddingY:2,rounding:"circle",children:(0,R.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,R.jsx)(s.JO,{accessibilityLabel:y?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),color:y?f.savedText:f.unsavedText,icon:y?"check":r?(0,Z.f)():"add",size:16})})})}):h&&(x=(0,R.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,R.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?f.saved:f.unsaved}},paddingX:b?3:2,paddingY:2,rounding:b?"pill":"circle",children:(0,R.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:b?v:(0,R.jsx)(s.JO,{accessibilityLabel:y?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),color:y?f.savedText:f.unsavedText,icon:y?"check":(0,Z.f)(),size:16})})})})),(0,R.jsxs)(n.Fragment,{children:[e,(0,R.jsx)(s.xu,{bottom:!0,left:d,padding:2,position:"absolute",right:!d,zIndex:this.legoFixedZIndex,children:x})]})}}function B(e){let{showToast:i}=(0,_.F9)(),a=(0,r.TH)(),t=(0,u.ZP)(),s=(0,o.Z)(),d=(0,b.Z)(),x=(0,l.I0)(),P=(0,r.k6)(),{isRTL:S,isAuthenticated:k}=(0,p.B)(),w=(0,L.M)(),I=(0,l.v9)(({session:e})=>e.unauthSavePinId),T=k&&!!I&&I===e.pinId,{pins:E,clear:A}=(0,v.Z)(),C=(0,n.useRef)(!1),F=(0,g.mB)(a.search).ideas_referrer,j=(0,h.HG)(),{checkExperiment:O}=(0,c.F)(),{isGraphQLEnabledInGeneral:N}=(0,f.nF)(),M=!j&&F===String(25),K=e=>P.push(e),Z=(0,l.v9)(i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo),U=(0,l.v9)(i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board),B=(0,l.v9)(e=>e.experiences[40001]);return(0,y.Z)(()=>{k&&!C.current&&E.length>0&&(C.current=!0,s({event_type:14577,aux_data:{num_unauth_saved_pins:E.length}}),[...E,...I&&N?[{id:I}]:[]].forEach(({id:i})=>{x((0,D.Z)({checkExperiment:O,history:P,i18n:t,logContextEvent:s,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:K,savePinId:w?.save??(()=>{})})).catch(e=>{(0,m.My)(`error.unauth_profile_pin_merge.${e}`)})}),A())}),(0,R.jsx)(z,{...e,checkExperiment:O,dispatch:x,history:P,historyPush:K,homepageExperience:B,i18n:t,isRTL:S,logContextEvent:s,pinnedToBoard:U,repinContext:w,requireAuthForLimitedLogin:d,savedInfo:Z,shouldShowSaveHandoffExp:T,showToast:i,useSmallSaveIcon:M})}B.displayName="OneTapSave";let H=B},232887:(e,i,a)=>{a.d(i,{Z:()=>l});var t=a(883119),n=a(894965);let l=new t.H3([n.e])},676012:(e,i,a)=>{a.d(i,{w:()=>o,z:()=>s});var t=a(667294),n=a(342513),l=a(785893);let{Provider:r,useMaybeHook:s}=(0,n.Z)("CloseupPreviewContext");function o({children:e}){let[i,a]=(0,t.useState)(Object.freeze({})),n=(0,t.useMemo)(()=>({setData:(e,i)=>a(a=>({...a,[e]:i})),getData:e=>i[e]}),[i]);return(0,l.jsx)(r,{value:n,children:e})}},894965:(e,i,a)=>{a.d(i,{e:()=>l,x:()=>n});var t=a(883119);let n=2,l=new t.Ry(1)},237040:(e,i,a)=>{a.d(i,{Yg:()=>o,ib:()=>u,nF:()=>p,xX:()=>c});var t=a(340523),n=a(5859),l=a(554786),r=a(953565);let s=({checkExperiment:e,isAuthMweb:i})=>{let a=i&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return a?e=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:a}}):null},o=()=>{let{isAuthenticated:e}=(0,n.B)(),i=(0,l.HG)(),{checkExperiment:a}=(0,t.F)();return s({checkExperiment:a,isAuthMweb:e&&!i})},d=0,u=({checkExperiment:e,isAuthMweb:i})=>{let a=s({checkExperiment:e,isAuthMweb:i});a&&(d+=1)<10&&a(`repin_${d}`)};function c({checkExperiment:e,isDesktop:i,isAuthenticated:a}){if(!a)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1};if(i){let{anyEnabled:i}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:i,isGraphQLEnabledInGeneral:i,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1}}{let{anyEnabled:i,group:a}=e("auth_mweb_graphql_pin_page");switch(a){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1};default:return{isGraphQLEnabledInGeneral:i,isGraphQLEnabledForRelatedPins:i,closeupPageSuspenseBehavior:i?"SuspendOnMissingData":null,isImpressionFixEnabled:!1}}}}function p(){let{checkExperiment:e}=(0,t.F)(),i=(0,l.HG)(),{isAuthenticated:a}=(0,n.B)();return c({checkExperiment:e,isDesktop:i,isAuthenticated:a})}},419128:(e,i,a)=>{a.r(i),a.d(i,{default:()=>f});var t,n=a(545007);a(167912);var l=a(883119),r=a(663056),s=a(207012),o=a(140017),d=a(923368),u=a(28156),c=a(256963),p=a(409403),m=a(785893);let _={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},g={cursor:"pointer",margin:"30px 16px 90px 16px",position:"relative",zIndex:1},h=(e,i,a,t,n,l)=>{l||void 0===t||(e.preventDefault(),e.stopPropagation(),t(i,a)),void 0!==n&&n(a)},y=void 0!==t?t:t=a(377520);function f({addEllipsis:e,alwaysShowNavigationArrows:i,carouselIndex:a,carouselData:t,ellipsisVariant:f,handleCarouselSwipe:v,height:x,isShowingLastSlide:b,pinKey:P,contextLogData:S,viewParameter:k,viewType:w,componentType:I,isEditMode:T,itemsPerPage:E,forwardNode:A,backNode:C,sliderStyleOverride:D,hideNavigationArrows:L}){let R=(0,o.ZP)(),F=(0,n.I0)(),{stackedCloseupEnabled:j}=(0,d.x4)(),O=(0,s.Z)(y,P),N=(0,c.Z)(O),M=(0,r.Z)(O),K=t||M&&{carouselSlots:M.carouselSlots.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:M.carouselId??"",index:M.index};if(!K)return null;let Z=(e,i)=>F((0,p.yR)(e,i)),{carouselSlots:U,index:z}=K,B=void 0!==a?a:z??0,H=Math.max(0,B-(E??1)),V=Math.min((U??[]).length-1,B+(E??1)),G=0===B,W=b||B===(U??[]).length-1,Y=(e,i)=>{h(e,O?.entityId??"",i,Z,v,T),N({pinId:O?.entityId??"",currentIndex:B,nextIndex:i,carouselData:{carouselSlots:U?.map(({id:e})=>({id:e})),entityId:K.entityId},viewParameter:k,viewType:w,componentType:I,contextLogData:S,isEditMode:T,isEligibleForPdp:O?.isEligibleForPdp??!1})},q=C||(0,m.jsx)(l.JO,{accessibilityLabel:R._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"arrow-back"}),$=L?null:A||(0,m.jsx)(l.JO,{accessibilityLabel:R._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"arrow-forward"}),Q=j?g:_;return(0,m.jsxs)(l.xu,{alignItems:"center",bottom:!x,"data-test-id":"carousel-sliders",display:"flex",height:x,justifyContent:L?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!L&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>{Y(e,H)},onKeyUp:e=>{Y(e,H)},role:"presentation",style:{...Q,...D,pointerEvents:G?"none":"auto"},children:(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:G&&!i?"hidden":"visible",opacity:G&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:q})}),e&&(0,m.jsx)(u.default,{carouselData:{carouselSlots:K.carouselSlots?.map(({id:e,title:i})=>({id:e,title:i})),entityId:K.entityId,index:K.index},carouselIndex:a,componentType:I,handleCarouselSwipe:v,pinKey:O,variant:f||"default",viewParameter:k,viewType:w}),!L&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>{Y(e,V)},onKeyUp:e=>{Y(e,V)},role:"presentation",style:{...Q,...D,pointerEvents:W?"none":"auto"},children:(0,m.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:W&&!i?"hidden":"visible",opacity:W&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:$})})]})}},649029:(e,i,a)=>{a.d(i,{Z:()=>r});var t=a(883119),n=a(262032),l=a(785893);let r=({index:e,carouselSlots:i,imageSpec:a,color:r,onError:s,onLoad:o,_fixCompletedOnLoad:d})=>(0,l.jsx)(t.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:i.map((i,u)=>{let{slotId:c,title:p,details:m,imageSizeMap:_}=i,g=_?_[a]:null,h=g?g.url??"":"";return(0,l.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":`carousel-swiper-${c??u}`,minWidth:"100%",children:(0,l.jsx)(n.Z,{_fixCompletedOnLoad:d,alt:p||m||"",color:r,fetchPriority:"auto",loading:"auto",naturalHeight:g?.height??1,naturalWidth:g?.width??1,onError:s,onLoad:o,src:h},c??u)},c??u)})})},622155:(e,i,a)=>{a.d(i,{_l:()=>v,cO:()=>f,t2:()=>x,w2:()=>b,xM:()=>y});var t=a(667294),n=a(616550),l=a(216167),r=a(96157),s=a(624797),o=a(554786),d=a(149722),u=a(785893);let c="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",_=(0,t.createContext)(),g=({children:e})=>{let[i,a]=(0,t.useState)(!1),[n,l]=(0,t.useState)(!1),r=(0,t.useMemo)(()=>({hasSeenAuthMobileLandingToast:i,setHasSeenAuthMobileLandingToast:a,hasSeenAuthDesktopLandingToast:n,setHasSeenAuthDesktopLandingToast:l}),[i,a,n,l]);return(0,u.jsx)(_.Provider,{value:r,children:e})},h=(0,t.createContext)({key:"",data:null}),y=({children:e})=>{let i=(0,n.TH)(),a=(0,d.Z)(),_=a&&a.isAuth,y=(0,o.HG)(),f=(0,t.useRef)((0,r.fY)(i)&&(0,s.mB)(i.search).invite_code||null),v=(0,n.LX)(i.pathname,{path:"/pin/:id"}),x=v&&v.params.id||"",[b,P]=(0,t.useState)({key:"",data:null});return(0,t.useEffect)(()=>{(async function(){let e=f.current;if(e)try{let i=l.Z.create("InviteCodeMetadataResource",{invite_code:e}),t=(await i.callGet()).resource_response.data;if(t){let e=t.sender??null,i=_&&e.id!==a.id&&e?.should_show_messaging&&a.should_show_messaging;!_&&y?P({key:c,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(t.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):i&&!y?P({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:a.id||""},pin:{pinId:x}}}}):i&&y&&P({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:a.id||""},pin:{pinId:x}}}})}else P({key:"",data:null})}catch{P({key:"",data:null})}})()},[_,y,a.id,x,a.should_show_messaging]),(0,u.jsx)(g,{children:(0,u.jsx)(h.Provider,{value:b,children:e})})},f=()=>{let e=(0,t.useContext)(h);return e.key===c?e:null},v=()=>{let e=(0,t.useContext)(h);return e.key===m?e:null},x=()=>{let e=(0,t.useContext)(h);return e.key===p?e:null},b=()=>(0,t.useContext)(_)},323294:(e,i,a)=>{a.d(i,{AH:()=>d,CK:()=>o,Fc:()=>r,Wj:()=>l,Xe:()=>n,kb:()=>s,wS:()=>t});let t=(e,i,a,t)=>i||(e?e.official_user:a||t);function n({hasLinkDomain:e,hasNativeCreator:i,hasOriginPinner:a,pinDomain:t,sourceUserUsername:n,sourceUserFullName:l}){return!i&&(e||a)&&n?{pinCreditLink:`/${n}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!i&&e?t:""}}let l=({i18n:e,hasLinkDomain:i,hasRichMetadataArticle:a,hasRichMetadataRecipeCategorizedIngredients:t,hasRichMetadataTutorial:n,richMetadataRecipeFromAggregatedData:l})=>(!i||l)&&e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||n&&e._('Saved from ', 'pin annotation', 'pin annotation')||t&&e._('Recipe from ', 'pin annotation', 'pin annotation')||a&&e._('Article from ', 'pin annotation', 'pin annotation')||e._('From ', 'Closeup pin annotation', 'Closeup pin annotation');function r({i18n:e,hasRichMetadataProductOfferSummary:i,richMetadataProductName:a,richSummaryProductName:t,hasRichSummaryProductOfferSummary:n}){return i&&a||!i&&t&&n?e._('Product sold by ', 'pin annotation', 'pin annotation'):""}let s=({hasLinkDomain:e,richMetadata:i,richSummary:a})=>e&&!i?.recipe?.fromAggregatedData&&i?.products&&i.products[0]&&i.products[0].name&&i.products[0].offerSummary?i.products[0].offerSummary:a?.products&&a.products[0]&&a.products[0].name&&a.products[0].offerSummary?a.products[0].offerSummary:void 0,o=({hasRichMetadata:e,hasRichMetadataProducts:i,hasRichMetadataArticle:a,hasRichMetadataRecipe:t})=>e?i?144:a?141:t?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com")},647123:(e,i,a)=>{a.d(i,{Z:()=>s});var t=a(667294),n=a(191313);let l=e=>{if(!e)return null;try{return JSON.parse(e)}catch{return null}},r=new Set;function s(e){let i=(0,t.useCallback)(i=>{let a=a=>{a===e&&i()};return r.add(a),()=>{r.delete(a)}},[e]),a=(0,t.useSyncExternalStore)(i,()=>(0,n.qn)(e),()=>null),s=(0,t.useCallback)(i=>{null===i?(0,n.L_)(e):(0,n.Nh)(e,JSON.stringify(i)),r.forEach(i=>i(e))},[e]);return(0,t.useMemo)(()=>[l(a),s],[a,s])}},559510:(e,i,a)=>{a.d(i,{$:()=>n,Z:()=>s});var t=a(647123);let n=2,l=e=>e?.pins??[],r=e=>e.length?{pins:e}:null,s=()=>{let[e,i]=(0,t.Z)("unauthSavedPins"),a=l(e),s=e=>i(r(e)),o=()=>a.length<n;return{pins:a,save:e=>{o()&&s(a.filter(({id:i})=>i!==e.id).concat([e]))},unsave:e=>s(a.filter(({id:i})=>i!==e)),isSaved:e=>a.some(({id:i})=>i===e),clear:()=>s([]),canSaveMore:o}}},166770:(e,i,a)=>{a.d(i,{H:()=>n,o:()=>t});let{Provider:t,useHook:n}=(0,a(342513).Z)("LimitedLogin")},281871:(e,i,a)=>{a.d(i,{Z:()=>t});function t(e,i,a){return{privacy_filter:i?"secret":"public",sort:a||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}},945488:(e,i,a)=>{a.d(i,{Z:()=>t});let t=(e,i)=>`${e}:${i||""}`},885837:(e,i,a)=>{a.d(i,{O:()=>s,Q:()=>o});var t=a(827625),n=a(945488),l=a(64819);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:i,mixPublicSecret:a,username:t,privacyFilter:n="all",filterAllPins:l=!1,filterShoppingList:r=!1,includeArchived:s=!0},o)=>({privacy_filter:n,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:i,username:t,page_size:25,group_by:a?"mix_public_private":"visibility",include_archived:s,redux_normalize_feed:!0,filter_all_pins:l,filter_shopping_list:r,...o?{orbac_subject_id:o}:Object.freeze({})})},o=e=>r.reduce((i,a)=>{let r=[(0,l.N8)("profileBoards",(0,n.Z)(e,a))];return[!0,!1].forEach(i=>{[!0,!1].forEach(n=>{r.push((0,t.jB)(s.name,s.options({username:e,boardOrder:a,mixPublicSecret:i,filterStories:n})))})}),i.concat(r)},[])},821419:(e,i,a)=>{a.d(i,{Br:()=>m,Cr:()=>I,K8:()=>v,L1:()=>j,Tq:()=>y,YQ:()=>F,YV:()=>w,ZP:()=>T,aX:()=>E,eo:()=>g,fJ:()=>N,md:()=>_,oG:()=>h,oL:()=>A,of:()=>x,xH:()=>f,xQ:()=>b,xR:()=>R,xk:()=>S,yT:()=>p,zS:()=>O});var t=a(216167),n=a(481177),l=a(372085),r=a(227258),s=a(827625),o=a(281871),d=a(885837),u=a(64819),c=a(937310);function p(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,i){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:i}}}function g({viewingUserId:e,viewingUsername:i,boardId:a,boardPinCount:t}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:i,boardId:a,boardPinCount:t}}}let h=(e,i)=>a=>a((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:i}}));function y(e,i,a){return(0,r.U)("BoardResource",{options:{board_id:e,field_set_key:i,...a?{orbac_subject_id:a}:{}}})}function f(e,i,a){return t=>(0,l.Z)({url:`/v3/boards/${e}/merge/${i}/`,method:"POST",data:a?{orbac_subject_id:a}:{}}).then(()=>Promise.all([t(g({boardId:e})),t(y(i,"pin_count")),t((0,u.N8)(c.Z.BOARD_SECTIONS,i))]))}function v(e){return i=>{e&&(0,d.Q)(e).forEach(e=>{i(e)})}}let x=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),b=e=>h(e,"pin_count");function P(e,i){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:i}}}function S(e,i){return a=>(a(P(e)),t.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:i}).callUpdate())}function k(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,i){return a=>(a(k(e)),t.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:i}).callDelete())}let I=(e,i)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:i}}),T=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function E(e,i,a){let l={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:i,...a?{orbac_subject_id:a}:Object.freeze({})};return e=>t.Z.create("BoardResource",l).callCreate().then(a=>{let t=a.resource_response.data;return e(i&&(0,s.jB)("BoardsResource",(0,o.Z)(i,!1))),t})}function A(e={},i,a){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:i},error:a}}let C=(e,i)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:i}}),D=(e,i,a)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:i,viewingUser:a}}),L=(e,i,a,t)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:i,status:a,collaboratingUsers:t}}),R=(e,i,a)=>async n=>{n(C(e,i));let l=await t.Z.create("BoardInviteResource",{board_id:e,invited_user_id:i}).callDelete();return l.resource_response.error||a({event_type:29,object_id_str:e}),l},F=(e,i,a,n,l,r)=>async s=>{s(D(e,n?.id??"",a));try{(await t.Z.create("accepted"===i?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:n?.id??"",...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||l({event_type:"accepted"===i?25:29,object_id_str:e})}catch(t){s(L(e,a,i,[n]))}},j=(e,i,a,n)=>l=>{let r=t.Z.create("BoardResource",{board_id:a}).callDelete();return l(g({viewingUserId:e,viewingUsername:i,boardId:a,boardPinCount:n})),r},O=(e,i)=>a=>t.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(t=>(a((0,u.Qv)("archived-boards",[{id:e,type:"board"}])),a(P(e,i)),t)),N=(e,i)=>a=>t.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(t=>(a((0,u.Qv)(`profile-boards:${i}`,[{id:e,type:"board"}])),a(k(e)),t))},64819:(e,i,a)=>{function t(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,i){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:i}}}a.d(i,{EX:()=>r,N8:()=>n,Qv:()=>l,_f:()=>t,vX:()=>s});let l=(e,i,a=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:a,items:i}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},386129:(e,i,a)=>{a.d(i,{Ge:()=>d,JS:()=>r,OF:()=>x,P_:()=>s,Q_:()=>p,b8:()=>m,eR:()=>v,h2:()=>u,h6:()=>c});var t=a(216167),n=a(372085),l=a(107905);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,i)=>({type:"USER_FOLLOW",payload:{id:e,value:i}}),o=(e,i)=>({type:"USER_BLOCK",payload:{id:e,value:i}}),d=({id:e,orbacSubjectId:i,blockSource:a,blockContext:n,logContextEvent:l})=>async r=>{r(o(e,!0));let s=await t.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:i,block_source:a,block_context:n}).callCreate().catch(()=>r(o(e,!1)));return l({event_type:54,object_id_str:e}),s},u=(e,i)=>async a=>{a(o(e,!1));let n=await t.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>a(o(e,!0)));return i({event_type:55,object_id_str:e}),n};function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,i)=>()=>t.Z.create("UserStateResource",{state:e,value:i}).callCreate(),m=(e,i,a)=>(t,r)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{a({event_type:48,object_id_str:r().session.userId}),e(),(0,l.Z)()},i)},_=e=>e>=200&&e<400,g=(e,i="150x150")=>e&&`https://i.pinimg.com/${i}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",h=async(e,i,a)=>{let n=await t.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let{status:t,signature:l}=n.resource_response.data[e];"processing"===t||"registered"===t?setTimeout(async()=>{h(e,i,a)},5e3):"succeeded"===t?i(g(l)):a()}else a()},y=(e,i,a,n,l)=>(new FormData().append("img",e),t.Z.create("VIPResource",{type:i}).callCreate().then(i=>{if(i.resource_response.data){let{upload_id:t,upload_url:r,upload_parameters:s}=i.resource_response.data,o=new XMLHttpRequest;o.open("POST",r,!0),o.onload=()=>{_(o.status)?(a(100),h(t,n,l)):l()},o.upload.onprogress=e=>{a(Math.round(100*e.loaded/e.total))};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),o.send(d)}},()=>{l()})),f=e=>new Promise((i,a)=>{y(e,"pinimage",()=>{},e=>{i(e)},e=>{a(e)})}),v=e=>new Promise((i,a)=>{"string"==typeof e?e.startsWith("data")&&f(function(e,i=512){let a=e.split(";"),t=a[0].split(":")[1],n=atob(a[1].split(",")[1]),l=[];for(let e=0;e<n.length;e+=i){let a=n.slice(e,e+i),t=Array(a.length);for(let e=0;e<a.length;e+=1)t[e]=a.charCodeAt(e);let r=new Uint8Array(t);l.push(r)}return new Blob(l,{type:t})}(e)).then(e=>i(e)):a("Invalid Image")}),x=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},937310:(e,i,a)=>{a.d(i,{Z:()=>t});let t={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},511918:(e,i,a)=>{a.d(i,{f:()=>t});function t(){return"angled-pin"}},189093:(e,i,a)=>{a.r(i),a.d(i,{default:()=>s});var t=a(883119),n=a(140017),l=a(160133),r=a(785893);function s({isPinRep:e}){let i=(0,n.ZP)(),a=e?"default":"inverse",s=(0,r.jsx)(t.xu,{"data-test-id":"unavailable-pin",padding:e?1:0,children:(0,r.jsx)(t.xu,{color:e?"secondary":"dark",height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,top:!0,width:"100%",children:(0,r.jsxs)(t.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,r.jsx)(t.xu,{paddingY:4,children:(0,r.jsx)(t.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:a,icon:"alert",size:20})}),(0,r.jsx)(t.xv,{align:"center",color:a,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(t.xu,{paddingY:1,children:(0,r.jsx)(t.xv,{align:"center",color:a,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,r.jsx)(t.xu,{height:"100vh",children:(0,r.jsx)(l.Z,{children:s})})}},84768:(e,i,a)=>{a.d(i,{MM:()=>r,uo:()=>s,wH:()=>l});var t=a(342513),n=a(706196);let{Provider:l,useHook:r}=(0,t.Z)("HandlerId");function s(){let e=r();return(0,n.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63549-f02eaac91f0e4ac4.mjs.map